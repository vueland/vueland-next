{"version":3,"sources":["../../../../src/components/VInput/VInput.ts"],"names":[],"mappings":"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","sourcesContent":["// Style\nimport './VInput.scss'\n\n// Vue API\nimport { defineComponent, h, computed } from 'vue'\n\n// Components\nimport { VField } from '../VField'\nimport { VLabel } from '../VLabel'\n\n// Types\nimport { SetupContext } from 'vue'\n\n// Effects\nimport { validateProps, useValidate } from '../../effects/use-validate'\n\nconst inputProps = {\n  label: String,\n  height: [String, Number],\n  type: {\n    type: String,\n    default: 'text',\n  },\n  placeholder: String,\n  disabled: Boolean,\n  required: {\n    type: Boolean,\n    default: false,\n  },\n  valid: {\n    type: Boolean,\n  },\n  ...validateProps()\n}\n\nexport const VInput = defineComponent({\n  name: 'v-input',\n  props: inputProps,\n\n  setup(props, ctx) {\n\n    // const state = reactive({\n    //   search: ''\n    // })\n\n    const {\n      validate,\n      focused,\n      validState\n    } = useValidate(props)\n\n    const classes = computed((): Record<string, boolean> => {\n      return {\n        'v-input': true,\n      }\n    })\n\n    const computedColor = computed((): string => {\n      if (validState.innerError) return 'red darken-1'\n      return 'blue darken-2'\n    })\n\n    const focusHandler = () => {\n      focused()\n      ctx.emit('focus')\n    }\n\n    const blurHandler = () => {\n      ctx.emit('blur')\n    }\n\n    const inputHandler = (e) => {\n      props.required && validate(e.target.value)\n      ctx.emit('input', e.target.value)\n      ctx.emit('update:modelValue', e.target.value)\n    }\n\n    const genLabel = () => {\n      VLabel.props = {\n        absolute: true,\n        color: computedColor.value\n      }\n      return h(\n        VLabel.setup!(props as any, ctx as SetupContext) as any,\n        VLabel.props,\n        props.label\n      )\n    }\n\n    const genField = () => {\n      const fieldProps = {\n        type: props.type,\n        disabled: props.disabled,\n        required: props.required,\n        placeholder: props.placeholder,\n        isDirty: validState.isDirty\n      }\n\n      return h(VField.setup!(fieldProps as any, ctx as SetupContext) as any,\n        {\n          onFocus: focusHandler,\n          onBlur: blurHandler,\n          onInput: inputHandler\n        })\n    }\n\n    const genDataProps = () => {\n      return {\n        class: {\n          ...classes.value\n        }\n      }\n    }\n\n    const genInput = () => {\n      return h('div', genDataProps(), [\n        genLabel(),\n        genField()\n      ])\n    }\n\n\n    return () => genInput()\n  },\n})\n"],"sourceRoot":"","file":"VInput.js"}