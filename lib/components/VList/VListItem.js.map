{"version":3,"sources":["../../../../src/components/VList/VListItem.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VListItem.scss'\n\n// Vue API\nimport {\n  h,\n  ref,\n  inject,\n  computed,\n  watch,\n  defineComponent,\n  onMounted,\n  onBeforeUnmount\n} from 'vue'\n\n// Effects\nimport { useToggle } from '../../effects/use-toggle'\n\n// Types\nimport { ListItemRef, ListTypes } from '../../../types'\n\nexport const VListItem = defineComponent({\n  name: 'v-list-item',\n\n  props: {\n    activeClass: {\n      type: String,\n      default: ''\n    },\n    dark: Boolean,\n    inactive: Boolean,\n    active: Boolean,\n    link: Boolean,\n    value: {\n      type: [Object, String, Number, Boolean],\n      default: null\n    }\n  },\n\n  emits: ['click'],\n\n  setup(props, { slots, emit }) {\n    const { isActive } = useToggle(props)\n\n    const handlers: any = inject('list-handlers')\n    const listTypes = inject('list-types') as ListTypes\n    const listItems = inject('list-items') as any\n    const groupItems = listTypes.isInGroup && inject('group-items') as any\n\n    const itemRef = ref<HTMLElement | null>(null)\n\n    const item: ListItemRef = {\n      ref: itemRef,\n      active: isActive\n    }\n\n    listTypes.isInList = !listTypes.isInGroup\n\n    watch(\n      () => props.active,\n      (to) => (isActive.value = to),\n      { immediate: true }\n    )\n\n    const classes = computed<Record<string, boolean>>(() => ({\n      'v-list-item': true,\n      'v-list-item--active': isActive.value,\n      'v-list-item--link': props.link,\n      [props.activeClass]: isActive.value && !!props.activeClass\n    }))\n\n    function onClick() {\n      if (!listTypes.isInGroup || props.link) {\n        isActive.value = !isActive.value\n      }\n\n      if (!props.link && listTypes.isInGroup) {\n        handlers.itemClick(groupItems.items, item)\n      }\n\n      if (!props.link && listTypes.isInList) {\n        handlers.itemClick(listItems.items, item)\n      }\n\n      emit('click')\n    }\n\n    onMounted(() => {\n      if (\n        groupItems && (groupItems as any).parent.value ===\n        (itemRef.value as any).parentNode.parentNode\n      ) {\n        !props.link && groupItems?.items.value.push(item)\n      }\n\n      if (listTypes.isInList && listItems) listItems.items.value.push(item)\n    })\n\n    onBeforeUnmount(() => {\n      if (listTypes.isInGroup) {\n        groupItems.items.value = groupItems.items.value.filter(it => it !== item)\n      }\n\n      if (listTypes.isInList) {\n        listItems.items.value = listItems.items.value.filter(it => it !== item)\n      }\n    })\n\n    return () => {\n      const content = slots.default && slots.default({ active: isActive.value })\n\n      const propsData = {\n        class: classes.value,\n        ref: itemRef,\n        onClick\n      }\n\n      return h('div', propsData, content)\n    }\n  }\n})\n"],"sourceRoot":"","file":"VListItem.js"}