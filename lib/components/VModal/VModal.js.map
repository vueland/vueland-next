{"version":3,"sources":["../../../../src/components/VModal/VModal.ts"],"names":[],"mappings":"AACA,OAAO,4CAAP;AAGA,SAAS,eAAT,EAA0B,CAA1B,EAA6B,KAA7B,EAAoC,cAApC,EAAoD,KAApD,QAAiE,KAAjE;AAGA,SAAS,YAAT,EAAuB,UAAvB,QAAyC,2BAAzC;AACA,SAAS,eAAT,EAA0B,aAA1B,QAA+C,8BAA/C;AAKA,MAAM,UAAU,GAAwB;AACtC,EAAA,KAAK,EAAE;AACL,IAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,CADD;AAEL,IAAA,OAAO,EAAE;AAFJ,GAD+B;AAKtC,EAAA,IAAI,EAAE,OALgC;AAMtC,KAAG,YAAY,EANuB;AAOtC,KAAG,eAAe;AAPoB,CAAxC;AAUA,OAAO,MAAM,MAAM,GAAG,eAAe,CAAC;AACpC,EAAA,IAAI,EAAE,SAD8B;AAGpC,EAAA,KAAK,EAAE,UAH6B;;AAKpC,EAAA,KAAK,CAAC,KAAD,EAAQ;AAAE,IAAA,KAAF;AAAS,IAAA;AAAT,GAAR,EAAuB;AAE1B,QAAI,KAAK,CAAC,OAAV,EAAmB;AACjB,YAAM,OAAO,GAAG,UAAU,CAAC,KAAD,EAAQ,SAAR,CAA1B;AAEA,MAAA,KAAK,CAAC,MAAM,KAAK,CAAC,IAAb,EAAoB,EAAD,IAAO;AAC7B,QAAA,EAAE,IAAI,OAAO,CAAC,aAAR,EAAN;AACA,SAAC,EAAD,IAAO,OAAO,CAAC,aAAR,EAAP;AACD,OAHI,CAAL;AAID;;AAED,UAAM,UAAU,GAAG,MACjB,CAAC,CACC,KADD,EAEC;AACE,MAAA,KAAK,EAAE;AACL,4BAAoB;AADf;AADT,KAFD,EAOC,KAAK,CAAC,OAAN,IAAiB,KAAK,CAAC,OAAN,EAPlB,CADH;;AAWA,UAAM,QAAQ,GAAG,MACf,CAAC,CACC,KADD,EAEC;AACE,MAAA,KAAK,EAAE;AACL,mBAAW;AADN,OADT;AAIE,uBAAiB,GAAG,IAAI,IAAI,CAAC,aAAD,EAAgB,GAAhB;AAJ9B,KAFD,EAQC,CAAC,OAAD,CARD,CADH;;AAYA,UAAM,OAAO,GAAG,UAAU,EAA1B;AAEA,QAAI,KAAK,GAAG,QAAQ,EAApB;;AAEA,QAAI,CAAC,CAAC,KAAK,CAAC,UAAZ,EAAwB;AACtB,YAAM,gBAAgB,GAAG,aAAa,CAAC,KAAD,EAAQ,KAAR,CAAtC;AACA,MAAA,KAAK,GAAG,gBAAgB,EAAxB;AACD;;AAED,WAAO,MAAM,cAAc,CAAC,CAAC,CAAC,KAAD,CAAF,EAAW,CAAC,CAAC,KAAD,EAAQ,KAAK,CAAC,IAAd,CAAD,CAAX,CAA3B;AACD;;AAjDmC,CAAD,CAA9B","sourcesContent":["// Styles\nimport './VModal.scss'\n\n// Vue API\nimport { defineComponent, h, watch, withDirectives, vShow } from 'vue'\n\n// Effects\nimport { overlayProps, useOverlay } from '../../effects/use-overlay'\nimport { transitionProps, useTransition } from '../../effects/use-transition'\n\n// Types\nimport { VNode } from 'vue'\n\nconst modalProps: Record<string, any> = {\n  width: {\n    type: [String, Number],\n    default: 400,\n  },\n  show: Boolean,\n  ...overlayProps(),\n  ...transitionProps()\n}\n\nexport const VModal = defineComponent({\n  name: 'v-modal',\n\n  props: modalProps,\n\n  setup(props, { slots, emit }) {\n\n    if (props.overlay) {\n      const overlay = useOverlay(props, 'v-modal')\n\n      watch(() => props.show, (to) => {\n        to && overlay.createOverlay()\n        !to && overlay.removeOverlay()\n      })\n    }\n\n    const genContent = (): VNode =>\n      h(\n        'div',\n        {\n          class: {\n            'v-modal__content': true,\n          },\n        },\n        slots.default && slots.default(),\n      )\n\n    const genModal = () =>\n      h(\n        'div',\n        {\n          class: {\n            'v-modal': true,\n          },\n          'onUpdate:show': val => emit('update:show', val)\n        },\n        [content],\n      )\n\n    const content = genContent()\n\n    let modal = genModal()\n\n    if (!!props.transition) {\n      const createTransition = useTransition(props, modal)\n      modal = createTransition()\n    }\n\n    return () => withDirectives(h(modal), [[vShow, props.show]])\n  }\n})\n"],"sourceRoot":"","file":"VModal.js"}