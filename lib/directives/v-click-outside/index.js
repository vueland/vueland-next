function clickHandler(e, el) {
    if (el.contains(e.target) &&
        el._binds?.value &&
        !el._binds?.value.closeConditional)
        return;
    if (typeof el._binds?.value === 'function')
        el._binds.value(e);
    if (typeof el._binds?.value === 'object')
        el._binds.value.handler(e);
}
function removeListener(el) {
    document.body.removeEventListener('click', el._onClick, true);
    delete el._onClick;
    delete el._binds;
}
export const vClickOutside = {
    beforeMount(el, binding) {
        el._binds = binding;
    },
    mounted(el) {
        el._onClick = (e) => clickHandler(e, el);
        document.body.addEventListener('click', el._onClick, true);
    },
    beforeUpdate(el, binding) {
        el._binds = binding;
    },
    beforeUnmount(el) {
        removeListener(el);
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZGlyZWN0aXZlcy92LWNsaWNrLW91dHNpZGUvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsU0FBUyxZQUFZLENBQUMsQ0FBQyxFQUFFLEVBQUU7SUFDekIsSUFDRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDckIsRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFLO1FBQ2hCLENBQUMsRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsZ0JBQWdCO1FBRWxDLE9BQU07SUFFUixJQUFJLE9BQU8sRUFBRSxDQUFDLE1BQU0sRUFBRSxLQUFLLEtBQUssVUFBVTtRQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBRTlELElBQUksT0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLEtBQUssS0FBSyxRQUFRO1FBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ3RFLENBQUM7QUFFRCxTQUFTLGNBQWMsQ0FBQyxFQUFFO0lBQ3hCLFFBQVEsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDN0QsT0FBTyxFQUFFLENBQUMsUUFBUSxDQUFBO0lBQ2xCLE9BQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQTtBQUNsQixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHO0lBQzNCLFdBQVcsQ0FBQyxFQUFFLEVBQUUsT0FBTztRQUNyQixFQUFFLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQTtJQUNyQixDQUFDO0lBRUQsT0FBTyxDQUFDLEVBQUU7UUFDUixFQUFFLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO1FBQ3hDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDNUQsQ0FBQztJQUVELFlBQVksQ0FBQyxFQUFFLEVBQUUsT0FBTztRQUN0QixFQUFFLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQTtJQUNyQixDQUFDO0lBRUQsYUFBYSxDQUFDLEVBQUU7UUFDZCxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUE7SUFDcEIsQ0FBQztDQUNGLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjbGlja0hhbmRsZXIoZSwgZWwpIHtcbiAgaWYgKFxuICAgIGVsLmNvbnRhaW5zKGUudGFyZ2V0KSAmJlxuICAgIGVsLl9iaW5kcz8udmFsdWUgJiZcbiAgICAhZWwuX2JpbmRzPy52YWx1ZS5jbG9zZUNvbmRpdGlvbmFsXG4gIClcbiAgICByZXR1cm5cblxuICBpZiAodHlwZW9mIGVsLl9iaW5kcz8udmFsdWUgPT09ICdmdW5jdGlvbicpIGVsLl9iaW5kcy52YWx1ZShlKVxuXG4gIGlmICh0eXBlb2YgZWwuX2JpbmRzPy52YWx1ZSA9PT0gJ29iamVjdCcpIGVsLl9iaW5kcy52YWx1ZS5oYW5kbGVyKGUpXG59XG5cbmZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGVsKSB7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlbC5fb25DbGljaywgdHJ1ZSlcbiAgZGVsZXRlIGVsLl9vbkNsaWNrXG4gIGRlbGV0ZSBlbC5fYmluZHNcbn1cblxuZXhwb3J0IGNvbnN0IHZDbGlja091dHNpZGUgPSB7XG4gIGJlZm9yZU1vdW50KGVsLCBiaW5kaW5nKSB7XG4gICAgZWwuX2JpbmRzID0gYmluZGluZ1xuICB9LFxuXG4gIG1vdW50ZWQoZWwpIHtcbiAgICBlbC5fb25DbGljayA9IChlKSA9PiBjbGlja0hhbmRsZXIoZSwgZWwpXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVsLl9vbkNsaWNrLCB0cnVlKVxuICB9LFxuXG4gIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZykge1xuICAgIGVsLl9iaW5kcyA9IGJpbmRpbmdcbiAgfSxcblxuICBiZWZvcmVVbm1vdW50KGVsKSB7XG4gICAgcmVtb3ZlTGlzdGVuZXIoZWwpXG4gIH0sXG59XG4iXX0=