{"version":3,"sources":["../../../../src/components/VList/VListItem.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VListItem.scss'\n\n// Vue API\nimport {\n  h,\n  ref,\n  inject,\n  computed,\n  watch,\n  defineComponent,\n  onMounted,\n  onBeforeUnmount\n} from 'vue'\n\n// Effects\nimport { useToggle } from '../../effects/use-toggle'\n\n// Types\nimport { ListItemRef, ListTypes } from '../../../types'\n\nexport const VListItem = defineComponent({\n  name: 'v-list-item',\n\n  props: {\n    activeClass: {\n      type: String,\n      default: ''\n    },\n    dark: Boolean,\n    inactive: Boolean,\n    activator: Boolean,\n    active: Boolean,\n    noAction: Boolean,\n  },\n\n  emits: ['click'],\n\n  setup(props, { slots, emit }) {\n    const { isActive } = useToggle(props)\n\n    const handlers: any = inject('list-handlers')\n    const listTypes = inject('list-types') as ListTypes\n    const listItems = inject('list-items') as any\n    const groupItems = listTypes.isInGroup && inject('group-items') as any\n\n    const itemRef = ref<HTMLElement | null>(null)\n\n    const item: ListItemRef = {\n      ref: itemRef,\n      active: isActive\n    }\n\n    listTypes.isInList = !listTypes.isInGroup\n\n    watch(\n      () => props.active,\n      (to) => (isActive.value = to),\n      { immediate: true }\n    )\n\n    const classes = computed<Record<string, boolean>>(() => ({\n      'v-list-item': true,\n      'v-list-item--active': isActive.value,\n      'v-list-item--activator': props.activator,\n      [props.activeClass]: isActive.value && !!props.activeClass\n    }))\n\n    function onClick() {\n      if (props.noAction) return\n\n      if (props.activator) {\n        isActive.value = !isActive.value\n      }\n\n      if (listTypes.isInGroup && !props.activator) {\n        handlers.itemClick(groupItems.items, item)\n      }\n\n      if (!props.activator && listTypes.isInList) {\n        handlers.itemClick(listItems.items, item)\n      }\n\n      emit('click')\n    }\n\n    onMounted(() => {\n      if (\n        groupItems && (groupItems as any).parent.value ===\n        (itemRef.value as any).parentNode.parentNode\n      ) {\n        !props.activator && groupItems?.items.value.push(item)\n      }\n\n      if (listTypes.isInList && listItems) listItems.items.value.push(item)\n    })\n\n    onBeforeUnmount(() => {\n      if (listTypes.isInGroup) {\n        groupItems.items.value = groupItems.items.value.filter(it => it !== item)\n      }\n\n      if (listTypes.isInList) {\n        listItems.items.value = listItems.items.value.filter(it => it !== item)\n      }\n    })\n\n    return () => {\n      const content = slots.default && slots.default({ active: isActive.value })\n\n      const propsData = {\n        class: classes.value,\n        ref: itemRef,\n        onClick\n      }\n\n      return h('div', propsData, content)\n    }\n  }\n})\n"],"sourceRoot":"","file":"VListItem.js"}