{"version":3,"sources":["../../../../src/components/VForm/VForm.ts"],"names":[],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,IAAM,KAAK,GAAG,0BAAgB;AACnC,EAAA,IAAI,EAAE,QAD6B;AAGnC,EAAA,KAHmC,iBAG7B,CAH6B,QAGjB;AAAA,QAAP,KAAO,QAAP,KAAO;;AAChB,QAAM,QAAQ,GAAG,SAAX,QAAW,GAAK;AACpB,UAAM,QAAQ,GAAc,EAA5B;AAEA,UAAM,MAAM,GAAG,QAAQ,CAAC,sBAAT,CAAgC,eAAhC,CAAf;AAEA,MAAA,KAAK,CAAC,SAAN,CAAgB,OAAhB,CAAwB,IAAxB,CAA6B,MAA7B,EAAqC,UAAA,EAAE,EAAG;AAAA,YAKhC,aALgC,GAKd,EAAE,CAAC,OAAH,CAAW,KAAX,CAAiB,OALH,CAKhC,aALgC;AAMxC,QAAA,QAAQ,CAAC,IAAT,CAAc,aAAa,EAA3B;AACD,OAPD;AASA,aAAO,OAAO,CAAC,OAAR,CAAgB,CAAC,QAAQ,CAAC,IAAT,CAAc,UAAA,CAAC;AAAA,eAAI,CAAC,CAAL;AAAA,OAAf,CAAjB,CAAP;AACD,KAfD;;AAiBA,QAAM,OAAO,GAAG,SAAV,OAAU,GAAK;AACnB,aAAO,qBAAW,KAAX,EAAkB,SAAlB,EAA6B;AAAE,QAAA,QAAQ,EAAR;AAAF,OAA7B,CAAP;AACD,KAFD;;AAIA,WAAO;AAAA,aACL,YACE,KADF,EAEE;AACE,iBAAO;AACL,oBAAU;AADL;AADT,OAFF,EAOE,OAAO,EAPT,CADK;AAAA,KAAP;AAUD;AAnCkC,CAAhB,CAAd","sourcesContent":["import './VForm.scss'\n\nimport { defineComponent, h, renderSlot } from 'vue'\n\nexport const VForm = defineComponent({\n  name: 'v-form',\n\n  setup(_, { slots }) {\n    const validate = () => {\n      const promises: boolean[] = []\n\n      const fields = document.getElementsByClassName('v-validatable')\n\n      Array.prototype.forEach.call(fields, it => {\n        /**\n         * here we extract validate method\n         * from each vNode of child components\n         */\n        const { validateValue } = it.__vnode.props.methods\n        promises.push(validateValue())\n      })\n\n      return Promise.resolve(!promises.some(f => !f))\n    }\n\n    const genSlot = () => {\n      return renderSlot(slots, 'default', { validate })\n    }\n\n    return () =>\n      h(\n        'div',\n        {\n          class: {\n            'v-form': true,\n          },\n        },\n        genSlot(),\n      )\n  },\n})\n"],"sourceRoot":"","file":"VForm.js"}