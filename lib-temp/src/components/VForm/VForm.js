import './VForm.scss';
import { defineComponent, h, ref, renderSlot, provide } from 'vue';
export const VForm = defineComponent({
    name: 'v-form',
    setup(_, { slots }) {
        const fields = ref([]);
        provide('fields', fields);
        const validate = () => {
            const promises = [];
            fields.value.forEach(it => {
                promises.push(it());
            });
            return Promise.resolve(!promises.some(f => !f));
        };
        const genSlot = () => {
            return renderSlot(slots, 'default', { validate });
        };
        return () => h('span', { class: 'v-form' }, genSlot());
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVkZvcm0uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WRm9ybS9WRm9ybS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLGNBQWMsQ0FBQTtBQUdyQixPQUFPLEVBQUUsZUFBZSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxNQUFNLEtBQUssQ0FBQTtBQUtsRSxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsZUFBZSxDQUFDO0lBQ25DLElBQUksRUFBRSxRQUFRO0lBRWQsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRTtRQUNoQixNQUFNLE1BQU0sR0FBMkIsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBRTlDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFFekIsTUFBTSxRQUFRLEdBQUcsR0FBRyxFQUFFO1lBQ3BCLE1BQU0sUUFBUSxHQUFjLEVBQUUsQ0FBQTtZQUU5QixNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDeEIsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO1lBQ3JCLENBQUMsQ0FBQyxDQUFBO1lBRUYsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNqRCxDQUFDLENBQUE7UUFFRCxNQUFNLE9BQU8sR0FBRyxHQUFHLEVBQUU7WUFDbkIsT0FBTyxVQUFVLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUE7UUFDbkQsQ0FBQyxDQUFBO1FBRUQsT0FBTyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUE7SUFDeEQsQ0FBQztDQUNGLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIFN0eWxlc1xuaW1wb3J0ICcuL1ZGb3JtLnNjc3MnXG5cbi8vIFZ1ZSBBUElcbmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgaCwgcmVmLCByZW5kZXJTbG90LCBwcm92aWRlIH0gZnJvbSAndnVlJ1xuXG4vLyBUeXBlc1xuaW1wb3J0IHsgUmVmIH0gZnJvbSAndnVlJ1xuXG5leHBvcnQgY29uc3QgVkZvcm0gPSBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiAndi1mb3JtJyxcblxuICBzZXR1cChfLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBmaWVsZHM6IFJlZjwoKCkgPT4gYm9vbGVhbilbXT4gPSByZWYoW10pXG5cbiAgICBwcm92aWRlKCdmaWVsZHMnLCBmaWVsZHMpXG5cbiAgICBjb25zdCB2YWxpZGF0ZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHByb21pc2VzOiBib29sZWFuW10gPSBbXVxuXG4gICAgICBmaWVsZHMudmFsdWUuZm9yRWFjaChpdCA9PiB7XG4gICAgICAgIHByb21pc2VzLnB1c2goaXQoKSlcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIXByb21pc2VzLnNvbWUoZiA9PiAhZikpXG4gICAgfVxuXG4gICAgY29uc3QgZ2VuU2xvdCA9ICgpID0+IHtcbiAgICAgIHJldHVybiByZW5kZXJTbG90KHNsb3RzLCAnZGVmYXVsdCcsIHsgdmFsaWRhdGUgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4gaCgnc3BhbicsIHsgY2xhc3M6ICd2LWZvcm0nIH0sIGdlblNsb3QoKSlcbiAgfSxcbn0pXG4iXX0=