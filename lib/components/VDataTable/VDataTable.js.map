{"version":3,"sources":["../../../../src/components/VDataTable/VDataTable.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VDataTable.scss'\n\n// Vue API\nimport { h, watch, computed, defineComponent, ref } from 'vue'\n\n// Effects\nimport { useColors } from '../../effects/use-colors'\n\n// Components\nimport { VDataTableHeader } from './VDataTableHeader'\nimport { VDataTableBody } from './VDataTableBody'\nimport { VDataTableModal } from './VDataTableModal'\nimport { VDataTableFooter } from './VDataTableFooter'\nimport { VCheckbox } from '../VCheckbox'\nimport { VButton } from '../VButton'\n\n// Helpers\nimport { toComparableStringFormat } from './helpers'\n\n// Types\nimport { VNode } from 'vue'\nimport { Column, TableFilter } from '../../types'\n\nexport const VDataTable = defineComponent({\n  name: 'v-data-table',\n  props: {\n    cols: {\n      type: Array,\n      default: () => [],\n    },\n    rows: {\n      type: Array,\n      default: () => [],\n    },\n    headerColor: String,\n    rowsOnTable: {\n      type: Array,\n      default: () => [10, 15, 20, 25],\n    },\n    dark: Boolean,\n    numbered: Boolean,\n    checkbox: Boolean,\n    stateOut: Boolean,\n    align: String,\n    color: {\n      type: String,\n      default: 'white',\n    },\n  } as any,\n\n  setup(props, { slots, emit }) {\n    const cols = ref<Column[]>([])\n    const rows = ref<any[]>([])\n    const checkedRows = ref<any[]>([])\n    const rowsPerPage = ref<number>(20)\n    const page = ref<number>(1)\n    const isAllRowsChecked = ref<boolean>(false)\n    const settings = ref({\n      cols: false,\n    })\n\n    const filters = {}\n\n    const { setBackground } = useColors()\n\n    const classes = computed<Record<string, boolean>>(() => ({\n      'v-data-table': true,\n    }))\n\n    const pages = computed<number>(() => {\n      return Math.ceil(rows.value?.length / rowsPerPage.value)\n    })\n\n    watch(\n      () => props.cols,\n      to => (cols.value = to),\n      { immediate: true },\n    )\n\n    watch(\n      () => props.rows,\n      to => (rows.value = to),\n      { immediate: true },\n    )\n\n    function onCheckAll(value: boolean) {\n      isAllRowsChecked.value = value\n      rows.value.forEach(row => (row.checked = value))\n    }\n\n    function onCheck<T>(rows: T[]) {\n      checkedRows.value = rows\n      emit('checked', checkedRows.value)\n    }\n\n    function onPrevTable(num) {\n      page.value = page.value > 1 ? page.value + num : page.value\n    }\n\n    function onNextTable(num: number) {\n      if (rows.value.length - page.value * rowsPerPage.value > 0) {\n        page.value += num\n      }\n    }\n\n    function onSort(col: Column) {\n      if (col.sorted) {\n        col.sorted = !col.sorted\n        rows.value!.reverse()\n      } else {\n        cols.value!.forEach(c => {\n          c.sorted = col.key === c.key\n        })\n\n        sortColumn(col)\n      }\n    }\n\n    function onFilter({ value, col }: TableFilter) {\n      if (!value && filters[col.key]) delete filters[col.key]\n\n      if (value) filters[col.key] = value\n\n      if (!props.stateOut) {\n        if (!Object.keys(filters).length) {\n          return (rows.value = props.rows)\n        }\n        rows.value = filterRows(props.rows)\n      } else {\n        emit('filter', filters)\n      }\n\n      page.value = 1\n    }\n\n    function onSelectRowsCount(count: number) {\n      rowsPerPage.value = count\n    }\n\n    function colsSettings(val: boolean, col: Column) {\n      col.show = val\n      emit('cols-settings', cols.value)\n    }\n\n    function sortColumn(col: Column): void {\n      rows.value!.sort((a, b) => {\n        if (col.format) {\n          if (col.format(a) > col.format(b)) return 1\n        } else {\n          if (a[col.key] > b[col.key]) return 1\n        }\n        return -1\n      })\n    }\n\n    function filterRows<T>(rows: T[]) {\n      const filterKeys = Object.keys(filters)\n\n      return rows.reduce((acc, row) => {\n        const rowResults: any[] = []\n\n        filterKeys.forEach(key => {\n          const { format } = cols.value!.find(col => col.key === key) as Column\n          const value = format ? format(row) : row[key]\n\n          const rowKeyValue = toComparableStringFormat(value)\n          const filterValue = toComparableStringFormat(filters[key])\n\n          if (rowKeyValue.includes(filterValue)) {\n            rowResults.push(!!row[key])\n          }\n        })\n\n        if (\n          rowResults.length === filterKeys.length &&\n          rowResults.every(value => !!value)\n        ) {\n          acc.push(row)\n        }\n\n        return acc\n      }, [] as T[])\n    }\n\n    function genTableTools(): VNode {\n      return h('div', {\n          class: {\n            'v-data-table__toolbar': true,\n          },\n        }, {\n          default: () => slots.toolbar && slots.toolbar(),\n        },\n      )\n    }\n\n    function genTableHeader(): VNode {\n      return h(VDataTableHeader, {\n        cols: cols.value,\n        color: props.headerColor || props.color,\n        checkbox: props.checkbox,\n        dark: props.dark,\n        align: props.align,\n        numbered: props.numbered,\n        onFilter,\n        onSort,\n        onCheckAll,\n      })\n    }\n\n    function genTableBody(): VNode {\n      return h(VDataTableBody, {\n          cols: cols.value,\n          rows: rows.value,\n          page: page.value,\n          rowsPerPage: rowsPerPage.value,\n          checkbox: props.checkbox,\n          checkAllRows: isAllRowsChecked.value,\n          align: props.align,\n          dark: props.dark,\n          color: props.color,\n          numbered: props.numbered,\n          onCheck,\n        },\n\n        props.cols.reduce((acc, col) => {\n          const slotContent = row => {\n            const scoped: any = { row }\n\n            if (col.format) {\n              scoped.format = col.format\n            }\n\n            return slots[col.key] && slots[col.key]!(scoped)\n          }\n\n          if (slots[col.key]) acc[col.key] = slotContent\n\n          return acc\n        }, {}),\n      )\n    }\n\n    function genTableFooter(): VNode {\n      return h(VDataTableFooter, {\n        pages: pages.value,\n        page: page.value,\n        counts: props.rowsOnTable,\n        tableRowsCount: rows.value?.length,\n        allRowsCount: props.rows.length,\n        rowsPerPage: rowsPerPage.value,\n        dark: props.dark,\n        color: props.color,\n        toolbar: props.toolbar,\n        onPrev: onPrevTable,\n        onNext: onNextTable,\n        onSelect: onSelectRowsCount,\n        onLastPage: val => emit('last-page', val),\n        onResetPage: val => (page.value += val),\n        onColsSettings: () => (settings.value.cols = true),\n      })\n    }\n\n    function genTableInner(): VNode {\n      return h('div', {\n          class: {\n            'v-data-table__inner': true,\n          },\n        }, [\n          genTableHeader(),\n          genTableBody()\n        ],\n      )\n    }\n\n    function genColsSettingsCheckboxes(): VNode[] {\n      return cols.value.map(col => h(VCheckbox, {\n        label: col.title,\n        modelValue: col.show,\n        dark: props.dark,\n        color: props.dark ? 'white' : '',\n        style: { margin: '10px 0' },\n        onChecked: val => colsSettings(val, col),\n      }))\n    }\n\n    function genColsSettingsActions(): VNode {\n      return h(VButton, {\n        dark: props.dark,\n        color: props.dark ? 'white' : 'primary',\n        outlined: props.dark,\n        label: 'ok',\n        onClick: () => (settings.value.cols = false),\n      })\n    }\n\n    function genColsSettingsModal(): VNode {\n      return h(\n        VDataTableModal,\n        {\n          dark: props.dark,\n          color: props.color,\n          show: settings.value.cols,\n        },\n        {\n          title: () => 'Cols Settings',\n          content: () => genColsSettingsCheckboxes(),\n          actions: () => genColsSettingsActions(),\n        },\n      )\n    }\n\n    return () => {\n      const propsData = {\n        class: classes.value,\n      }\n\n      return h('div', setBackground(props.color, propsData), [\n        slots.toolbar && genTableTools(),\n        genTableInner(),\n        genTableFooter(),\n        genColsSettingsModal(),\n      ])\n    }\n  },\n})\n"],"sourceRoot":"","file":"VDataTable.js"}