{"version":3,"sources":["../../../src/effects/use-activator.ts"],"names":[],"mappings":"AACA,SAAS,GAAT,QAAoB,KAApB;AAiBA,OAAM,SAAU,YAAV,GAAsB;AAC1B,QAAM,YAAY,GAAG,GAAG,CAAqB,IAArB,CAAxB;AACA,QAAM,cAAc,GAAyB,EAA7C;AACA,QAAM,SAAS,GAAgC,EAA/C;;AAEA,QAAM,iBAAiB,GAAG,MAAK;AAC7B,UAAM,EAAE,GAAI,YAAY,CAAC,KAAb,CAA4B,GAA5B,IAAoC,YAAY,CAAC,KAA7D;AACA,IAAA,cAAc,CAAC,IAAf,GAAsB,EAAE,CAAC,UAAzB;AACA,IAAA,cAAc,CAAC,GAAf,GAAqB,EAAE,CAAC,SAAxB;AACA,IAAA,cAAc,CAAC,MAAf,GAAwB,EAAE,CAAC,YAA3B;AACA,IAAA,cAAc,CAAC,KAAf,GAAuB,EAAE,CAAC,WAA1B;AAEA,WAAO,cAAP;AACD,GARD;;AAUA,QAAM,qBAAqB,GAAG,CAAC,KAAD,EAAQ,QAAR,KAAoB;AAChD,QAAI,KAAK,CAAC,WAAV,EAAuB;AACrB,MAAA,SAAS,CAAC,UAAV,GAAuB,MAAK;AAC1B,QAAA,QAAQ,CAAC,UAAT;AACD,OAFD;;AAIA,MAAA,SAAS,CAAC,UAAV,GAAuB,MAAK;AAC1B,QAAA,QAAQ,CAAC,UAAT;AACD,OAFD;AAGD;;AAED,QAAI,KAAK,CAAC,WAAV,EAAuB;AACrB,MAAA,SAAS,CAAC,KAAV,GAAkB,MAAM,QAAQ,CAAC,KAAT,EAAxB;AACD;;AAED,WAAO,SAAP;AACD,GAhBD;;AAkBA,QAAM,kBAAkB,GAAG,MAAK;AAC9B,UAAM,MAAM,GAAG,MAAM,CAAC,IAAP,CAAY,SAAZ,CAAf;;AAEA,QAAI,YAAY,CAAC,KAAjB,EAAwB;AACtB,MAAA,MAAM,CAAC,OAAP,CAAgB,GAAD,IAAQ;AACrB,QAAA,YAAY,CAAC,KAAb,CAAoB,gBAApB,CAAqC,GAArC,EAA0C,SAAS,CAAC,GAAD,CAAnD;AACD,OAFD;AAGD;AACF,GARD;;AAUA,QAAM,qBAAqB,GAAG,MAAK;AACjC,UAAM,MAAM,GAAG,MAAM,CAAC,IAAP,CAAY,SAAZ,CAAf;;AAEA,QAAI,YAAY,CAAC,KAAjB,EAAwB;AACtB,MAAA,MAAM,CAAC,OAAP,CAAgB,GAAD,IAAQ;AACrB,QAAA,YAAY,CAAC,KAAb,CAAoB,mBAApB,CAAwC,GAAxC,EAA6C,SAAS,CAAC,GAAD,CAAtD;AACD,OAFD;AAGD;AACF,GARD;;AAUA,SAAO;AACL,IAAA,YADK;AAEL,IAAA,iBAFK;AAGL,IAAA,kBAHK;AAIL,IAAA,qBAJK;AAKL,IAAA;AALK,GAAP;AAOD","sourcesContent":["// Vue API\nimport { ref } from 'vue'\n\n// Types\nimport { OffsetSizes } from '../../types'\n\ntype ActivatorListeners = {\n  mouseenter: (e: Event) => void\n  mouseleave: (e: Event) => void\n  mouseover: (e: Event) => void\n  mouseout: (e: Event) => void\n  focus: (e: Event) => void\n  blur: (e: Event) => void\n  click: (e: Event) => void\n  input: (e: Event) => void\n  change: (e: Event) => void\n}\n\nexport function useActivator() {\n  const activatorRef = ref<HTMLElement | null>(null)\n  const activatorSizes: Partial<OffsetSizes> = {}\n  const listeners: Partial<ActivatorListeners> = {}\n\n  const getActivatorSizes = () => {\n    const el = (activatorRef.value! as any).$el || (activatorRef.value! as any)\n    activatorSizes.left = el.offsetLeft\n    activatorSizes.top = el.offsetTop\n    activatorSizes.height = el.offsetHeight\n    activatorSizes.width = el.offsetWidth\n\n    return activatorSizes\n  }\n\n  const genActivatorListeners = (props, handlers) => {\n    if (props.openOnHover) {\n      listeners.mouseenter = () => {\n        handlers.mouseenter()\n      }\n\n      listeners.mouseleave = () => {\n        handlers.mouseleave()\n      }\n    }\n\n    if (props.openOnClick) {\n      listeners.click = () => handlers.click()\n    }\n\n    return listeners\n  }\n\n  const addActivatorEvents = () => {\n    const events = Object.keys(listeners)\n\n    if (activatorRef.value) {\n      events.forEach((key) => {\n        activatorRef.value!.addEventListener(key, listeners[key])\n      })\n    }\n  }\n\n  const removeActivatorEvents = () => {\n    const events = Object.keys(listeners)\n\n    if (activatorRef.value) {\n      events.forEach((key) => {\n        activatorRef.value!.removeEventListener(key, listeners[key])\n      })\n    }\n  }\n\n  return {\n    activatorRef,\n    getActivatorSizes,\n    addActivatorEvents,\n    removeActivatorEvents,\n    genActivatorListeners,\n  }\n}\n"],"sourceRoot":"","file":"use-activator.js"}