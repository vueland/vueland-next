{"version":3,"sources":["../../../../src/components/VList/VList.ts"],"names":[],"mappings":"AACA,OAAO,0CAAP;AAGA,SAAS,CAAT,EAAY,GAAZ,EAAiB,OAAjB,EAA0B,eAA1B,QAAiD,KAAjD;AAGA,SAAS,iBAAT,QAAkC,mCAAlC;AAMA,OAAO,MAAM,KAAK,GAAG,eAAe,CAAC;AACnC,EAAA,IAAI,EAAE,QAD6B;;AAGnC,EAAA,KAAK,CAAC,CAAD,EAAI;AAAE,IAAA;AAAF,GAAJ,EAAa;AAChB,UAAM;AAAE,MAAA;AAAF,QAAa,iBAAiB,EAApC;AAEA,UAAM,UAAU,GAAG,GAAG,CAAC,EAAD,CAAtB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC,EAAD,CAArB;AAEA,IAAA,OAAO,CAAC,aAAD,EAAgB;AACrB,MAAA,KAAK,EAAE,UADc;AAErB,MAAA,QAAQ,EAAE,QAAQ,CAAC,IAAT,CAAc,IAAd,EAAoB,UAApB,CAFW;AAGrB,MAAA,UAAU,EAAE,UAAU,CAAC,IAAX,CAAgB,IAAhB,EAAsB,UAAtB;AAHS,KAAhB,CAAP;AAMA,IAAA,OAAO,CAAC,YAAD,EAAe;AACpB,MAAA,KAAK,EAAE,SADa;AAEpB,MAAA,QAAQ,EAAE,QAAQ,CAAC,IAAT,CAAc,IAAd,EAAoB,SAApB,CAFU;AAGpB,MAAA,UAAU,EAAE,UAAU,CAAC,IAAX,CAAgB,IAAhB,EAAsB,SAAtB;AAHQ,KAAf,CAAP;AAMA,IAAA,OAAO,CAAC,eAAD,EAAkB;AACvB,MAAA,SADuB;AAEvB,MAAA;AAFuB,KAAlB,CAAP;AAKA,IAAA,OAAO,CAAC,YAAD,EAAe;AACpB,MAAA,SAAS,EAAE,KADS;AAEpB,MAAA,QAAQ,EAAE;AAFU,KAAf,CAAP;;AAKA,aAAS,QAAT,CAAkB,KAAlB,EAA0C,IAA1C,EAAwD;AACtD,MAAA,KAAK,CAAC,KAAN,CAAY,IAAZ,CAAiB,IAAjB;AACD;;AAED,aAAS,UAAT,CAAoB,KAApB,EAA4C,IAA5C,EAA0D;AACxD,MAAA,KAAK,CAAC,KAAN,CAAY,MAAZ,CAAoB,EAAD,IAAO;AACxB,eAAO,EAAE,CAAC,GAAH,KAAW,IAAI,CAAC,GAAvB;AACD,OAFD;AAGD;;AAED,aAAS,SAAT,CAAmB,MAAnB,EAA4C,IAA5C,EAA6D;AAC3D,UAAI,MAAM,CAAC,KAAP,CAAa,MAAjB,EAAyB;AACvB,QAAA,MAAM,CAAC,KAAP,CAAa,OAAb,CAAsB,EAAD,IAAiB;AACpC,cAAI,EAAE,CAAC,GAAH,KAAW,IAAI,CAAC,GAAL,CAAS,KAAxB,EAA+B;AAC7B,YAAA,EAAE,CAAC,MAAH,GAAY,CAAC,EAAE,CAAC,MAAhB;AACD;AACF,SAJD;AAKD;AACF;;AAED,aAAS,SAAT,CAAmB,KAAnB,EAA2C,IAA3C,EAA4D;AAC1D,MAAA,MAAM,CAAC,KAAD,EAAQ,IAAR,CAAN;AACD;;AAED,WAAO,MAAK;AACV,YAAM,SAAS,GAAG;AAChB,QAAA,KAAK,EAAE;AACL,oBAAU;AADL;AADS,OAAlB;AAMA,aAAO,CAAC,CAAC,KAAD,EAAQ,SAAR,EAAmB,KAAK,CAAC,OAAN,IAAiB,KAAK,CAAC,OAAN,EAApC,CAAR;AACD,KARD;AASD;;AAhEkC,CAAD,CAA7B","sourcesContent":["// Styles\nimport './VList.scss'\n\n// Vue API\nimport { h, ref, provide, defineComponent } from 'vue'\n\n// Effects\nimport { useSelectMultiple } from '../../effects/use-select-multiple'\n\n// Types\nimport { ListItem, ListItemRef } from '../../../types'\nimport { Ref } from 'vue'\n\nexport const VList = defineComponent({\n  name: 'v-list',\n\n  setup(_, { slots }) {\n    const { select } = useSelectMultiple()\n\n    const listsGroup = ref([])\n    const listItems = ref([])\n\n    provide('lists-group', {\n      items: listsGroup,\n      register: register.bind(null, listsGroup),\n      unregister: unregister.bind(null, listsGroup)\n    })\n\n    provide('list-items', {\n      items: listItems,\n      register: register.bind(null, listItems),\n      unregister: unregister.bind(null, listItems),\n    })\n\n    provide('list-handlers', {\n      listClick,\n      itemClick\n    })\n\n    provide('list-types', {\n      isInGroup: false,\n      isInList: false\n    })\n\n    function register(items: Ref<ListItem[]>, item: ListItem) {\n      items.value.push(item)\n    }\n\n    function unregister(items: Ref<ListItem[]>, item: ListItem) {\n      items.value.filter((it) => {\n        return it.ref !== item.ref\n      })\n    }\n\n    function listClick(groups: Ref<ListItem[]>, item: ListItemRef) {\n      if (groups.value.length) {\n        groups.value.forEach((it: ListItem) => {\n          if (it.ref === item.ref.value) {\n            it.active = !it.active\n          }\n        })\n      }\n    }\n\n    function itemClick(items: Ref<ListItem[]>, item: ListItemRef) {\n      select(items, item)\n    }\n\n    return () => {\n      const dataProps = {\n        class: {\n          'v-list': true\n        }\n      }\n\n      return h('div', dataProps, slots.default && slots.default())\n    }\n  }\n})\n"],"sourceRoot":"","file":"VList.js"}