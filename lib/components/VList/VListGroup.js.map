{"version":3,"sources":["../../../../src/components/VList/VListGroup.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VListGroup.scss'\n\n// Vue API\nimport {\n  h,\n  ref,\n  provide,\n  computed,\n  inject,\n  withDirectives,\n  defineComponent,\n  onBeforeUnmount,\n  onMounted,\n  vShow\n} from 'vue'\n\n// Effects\nimport { useIcons } from '../../effects/use-icons'\nimport { colorProps, useColors } from '../../effects/use-colors'\nimport { elevationProps, useElevation } from '../../effects/use-elevation'\n// import { useSelectMultiple } from '../../effects/use-select-multiple'\n\n// Components\nimport { VIcon } from '../VIcon'\nimport { VListItem } from './VListItem'\nimport { VListItemIcon } from './index'\nimport { VExpandTransition } from '../transitions'\n\n// Types\nimport { VNode, ComponentPublicInstance, Ref } from 'vue'\nimport { ListItemRef } from '../../../types'\n\nexport const VListGroup = defineComponent({\n  name: 'v-list-group',\n  props: {\n    activeClass: {\n      type: String,\n      default: ''\n    },\n    appendIcon: {\n      type: String,\n      default: ''\n    },\n    prependIcon: {\n      type: String,\n      default: ''\n    },\n    dark: Boolean,\n    group: String,\n    disabled: Boolean,\n    noAction: Boolean,\n    expanded: Boolean,\n    subGroup: Boolean,\n    value: Boolean,\n    modelValue: Boolean,\n    ...elevationProps(),\n    ...colorProps()\n  } as any,\n\n  setup(props, { slots }) {\n    // effects\n    const { elevationClasses } = useElevation(props)\n    const { icons, iconSize } = useIcons('md')\n    const { setTextColor } = useColors()\n\n    // refs\n    const refGroup: Ref<HTMLElement | ComponentPublicInstance | null> = ref(\n      null\n    )\n    const isActive = ref<boolean>(false)\n    const items = ref<any>([])\n    const listGroupItem = genListGroupParams()\n\n    // injects\n    const groups: any = inject('lists-group')\n    const listType: any = inject('list-types')\n    const handlers = inject('list-handlers') as any\n\n    listType.isInGroup = true\n\n    provide('group-items', {\n      parent: refGroup,\n      items\n    })\n\n    const classes = computed<Record<string, boolean>>(() => ({\n      'v-list-group': true,\n      'v-list-group__sub-group': props.subGroup,\n      'v-list-group--active': isActive.value && !props.noAction,\n      'v-list-group--expanded': isActive.value,\n      'v-list-group--no-action': props.noAction,\n      'v-list-group--light': !props.dark,\n      'v-list-group--dark': props.dark,\n      [props.activeClass]: isActive.value,\n      ...elevationClasses.value\n    }))\n\n    function onClick() {\n      if (props.disabled || props.noAction) return\n\n      handlers.listClick(groups.items, listGroupItem)\n    }\n\n    function genListGroupParams(): ListItemRef {\n      return {\n        ref: refGroup,\n        active: isActive\n      }\n    }\n\n    function genIcon(icon: string): VNode {\n      const propsData = {\n        size: iconSize\n      }\n\n      return h(VIcon, propsData, { default: () => icon })\n    }\n\n    function genAppendIcon(): VNode | null {\n      const slotAppendIcon = slots.appendIcon && slots.appendIcon()\n\n      const propsAppendIcon = !props.subGroup ? icons.$expand : props.appendIcon\n\n      if ((!propsAppendIcon && !slotAppendIcon) || props.noAction) return null\n\n      const propsData = {\n        class: 'v-list-group__append-icon'\n      }\n\n      return h(VListItemIcon, propsData, {\n        default: () => slotAppendIcon || genIcon(propsAppendIcon as string)\n      })\n    }\n\n    function genPrependIcon(): VNode | null {\n      const icon = props.subGroup ? icons.$subgroup : props.prependIcon\n      const slotIcon = slots.prependIcon && slots.prependIcon()\n\n      if (!icon && !slotIcon) return null\n\n      const propsData = { class: 'v-list-group__prepend-icon' }\n\n      return h(VListItemIcon, propsData, {\n        default: () => slotIcon || genIcon(icon as string)\n      })\n    }\n\n    function genGroupHeader(): VNode {\n      const propsData = {\n        class: {\n          'v-list-group__header': true\n        },\n        link: true,\n        dark: props.dark,\n        onClick\n      }\n\n      return h(VListItem, propsData, {\n        default: () => [\n          genPrependIcon(),\n          slots.title && slots.title(),\n          genAppendIcon()\n        ]\n      })\n    }\n\n    function genItems(): VNode {\n      const propsData = {\n        class: 'v-list-group__items'\n      }\n\n      return withDirectives(\n        h('div', propsData, slots.default && slots.default()),\n        [[vShow, isActive.value]]\n      )\n    }\n\n    onMounted(() => {\n      groups?.register(listGroupItem)\n      if (props.expanded || props.noAction) isActive.value = true\n    })\n\n    onBeforeUnmount(() => {\n      if (groups) {\n        groups.unregister(listGroupItem)\n      }\n    })\n\n    return () => {\n      const items = slots.default && VExpandTransition(genItems())\n      const header = slots.title && genGroupHeader()\n\n      const propsData = {\n        class: classes.value,\n        ref: refGroup\n      }\n\n      const children = [header, items]\n\n      const color =\n        props.dark && !isActive.value\n          ? 'white'\n          : !props.dark && !isActive.value\n          ? ''\n          : props.color\n\n      return h(\n        'div',\n        color ? setTextColor(color, propsData) : propsData,\n        children\n      )\n    }\n  }\n})\n"],"sourceRoot":"","file":"VListGroup.js"}