{"version":3,"sources":["../../../../src/components/VInput/VInput.ts"],"names":[],"mappings":"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","sourcesContent":["// Style\nimport './VInput.scss'\n\n// Vue API\nimport { defineComponent, h, computed, reactive } from 'vue'\n\n// Components\nimport { VLabel } from '../VLabel'\n\n// Types\nimport { SetupContext } from 'vue'\n\n// Effects\nimport { validateProps, useValidate } from '../../effects/use-validate'\n\nconst inputProps = {\n  label: String,\n  height: [String, Number],\n  type: {\n    type: String,\n    default: 'text',\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  required: {\n    type: Boolean,\n    default: false,\n  },\n  modelValue: [String, Number],\n  ...validateProps(),\n}\n\nexport const VInput = defineComponent({\n  name: 'v-input',\n  props: inputProps,\n\n  setup(props, ctx) {\n\n    const state = reactive({\n      focused: false,\n    })\n\n    const { validate, focused, validState } = useValidate(props)\n\n    const classes = computed((): Record<string, boolean> => {\n      return {\n        'v-input': true,\n        'v-validatable': true,\n        'v-input--required': props.required,\n        'v-input--disabled': props.disabled,\n        'v-input--dirty': validState.isDirty,\n        'v-input--valid': validState.isDirty && props.required && !validState.innerError,\n        'v-input--not-valid': validState.isDirty && props.required && validState.innerError!,\n        'v-input--focused': state.focused\n      }\n    })\n\n    const computedColor = computed((): string => {\n      if (validState.innerError) return 'red darken-1'\n      return 'blue darken-2'\n    })\n\n    const focusHandler = () => {\n      focused()\n      state.focused = true\n      ctx.emit('focus')\n    }\n\n    const blurHandler = () => {\n      ctx.emit('blur')\n      state.focused = false\n\n      requestAnimationFrame(() => {\n        props.required && validate(props.modelValue)\n      })\n    }\n\n    const inputHandler = (e) => {\n      ctx.emit('update:modelValue', e.target.value)\n    }\n\n    const genLabel = () => {\n      const labelProps = {\n        absolute: true,\n        left: 0,\n        right: 'auto',\n        color: computedColor.value,\n        value: props.modelValue,\n        focused: state.focused\n      }\n\n      return h(\n        VLabel.setup!(labelProps as any, ctx as SetupContext) as any,\n        props.label,\n      )\n    }\n\n    const genField = () => {\n\n      const fieldProps = {\n        type: props.type,\n        disabled: props.disabled,\n        required: props.required,\n        value: props.modelValue,\n        class: {\n          'v-input__field': true\n        },\n        onFocus: focusHandler,\n        onBlur: blurHandler,\n        onInput: inputHandler,\n      }\n\n      return h('input', fieldProps)\n    }\n\n    const genFieldSlot = () => {\n      return h('div', {\n        class: {\n          'v-input__text-slot': true\n        }\n      }, [genLabel(), genField()])\n    }\n\n    const genDataProps = () => {\n      return {\n        class: {\n          ...classes.value,\n        },\n      }\n    }\n\n    const genInput = () => {\n      return h('div', genDataProps(), genFieldSlot())\n    }\n\n    return () => genInput()\n  }\n})\n"],"sourceRoot":"","file":"VInput.js"}