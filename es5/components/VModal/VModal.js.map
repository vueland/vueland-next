{"version":3,"sources":["../../../../src/components/VModal/VModal.ts"],"names":[],"mappings":";;;;;;;AACA;;AAGA;;AAGA;;AACA;;;;;;;;AAKA,IAAM,UAAU;AACd,EAAA,KAAK,EAAE;AACL,IAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,CADD;AAEL,eAAS;AAFJ,GADO;AAKd,EAAA,UAAU,EAAE,OALE;AAMd,EAAA,IAAI,EAAE;AANQ,GAOX,+BAPW,GAQX,qCARW,CAAhB;;AAWO,IAAM,MAAM,GAAG,0BAAgB;AACpC,EAAA,IAAI,EAAE,SAD8B;AAGpC,EAAA,KAAK,EAAE,UAH6B;AAKpC,EAAA,KALoC,iBAK9B,KAL8B,QAKR;AAAA,QAAb,KAAa,QAAb,KAAa;AAAA,QAAN,IAAM,QAAN,IAAM;;AAE1B,QAAI,KAAK,CAAC,OAAV,EAAmB;AACjB,UAAM,OAAO,GAAG,4BAAW,KAAX,EAAkB,SAAlB,CAAhB;AAEA,sBAAM;AAAA,eAAM,KAAK,CAAC,UAAZ;AAAA,OAAN,EAA8B,UAAC,EAAD,EAAO;AACnC,QAAA,EAAE,IAAI,OAAO,CAAC,aAAR,EAAN;AACA,SAAC,EAAD,IAAO,OAAO,CAAC,aAAR,EAAP;AACD,OAHD;AAID;;AAED,QAAM,UAAU,GAAG,SAAb,UAAa;AAAA,aACjB,YACE,KADF,EAEE;AACE,iBAAO;AACL,8BAAoB;AADf;AADT,OAFF,EAOE,KAAK,WAAL,IAAiB,KAAK,WAAL,EAPnB,CADiB;AAAA,KAAnB;;AAWA,QAAM,QAAQ,GAAG,SAAX,QAAW;AAAA,aACf,YACE,KADF,EAEE;AACE,iBAAO;AACL,qBAAW;AADN,SADT;AAIE,+BAAuB,4BAAA,GAAG;AAAA,iBAAI,IAAI,CAAC,mBAAD,EAAsB,GAAtB,CAAR;AAAA;AAJ5B,OAFF,EAQE,CAAC,OAAD,CARF,CADe;AAAA,KAAjB;;AAYA,QAAM,OAAO,GAAG,UAAU,EAA1B;AAEA,QAAI,KAAK,GAAG,QAAQ,EAApB;;AAEA,QAAI,CAAC,CAAC,KAAK,CAAC,UAAZ,EAAwB;AACtB,UAAM,gBAAgB,GAAG,kCAAc,KAAd,EAAqB,KAArB,CAAzB;AACA,MAAA,KAAK,GAAG,gBAAgB,EAAxB;AACD;;AAED,WAAO;AAAA,aAAM,yBAAe,YAAE,KAAF,CAAf,EAAyB,CAAC,CAAC,UAAD,EAAQ,KAAK,CAAC,UAAd,CAAD,CAAzB,CAAN;AAAA,KAAP;AACD;AAjDmC,CAAhB,CAAf","sourcesContent":["// Styles\nimport './VModal.scss'\n\n// Vue API\nimport { defineComponent, h, watch, withDirectives, vShow } from 'vue'\n\n// Effects\nimport { overlayProps, useOverlay } from '../../effects/use-overlay'\nimport { transitionProps, useTransition } from '../../effects/use-transition'\n\n// Types\nimport { VNode } from 'vue'\n\nconst modalProps: Record<string, any> = {\n  width: {\n    type: [String, Number],\n    default: 400,\n  },\n  modelValue: Boolean,\n  show: Boolean,\n  ...overlayProps(),\n  ...transitionProps()\n}\n\nexport const VModal = defineComponent({\n  name: 'v-modal',\n\n  props: modalProps,\n\n  setup(props, { slots, emit }) {\n\n    if (props.overlay) {\n      const overlay = useOverlay(props, 'v-modal')\n\n      watch(() => props.modelValue, (to) => {\n        to && overlay.createOverlay()\n        !to && overlay.removeOverlay()\n      })\n    }\n\n    const genContent = (): VNode =>\n      h(\n        'div',\n        {\n          class: {\n            'v-modal__content': true,\n          },\n        },\n        slots.default && slots.default(),\n      )\n\n    const genModal = () =>\n      h(\n        'div',\n        {\n          class: {\n            'v-modal': true,\n          },\n          'onUpdate:modelValue': val => emit('update:modelValue', val)\n        },\n        [content],\n      )\n\n    const content = genContent()\n\n    let modal = genModal()\n\n    if (!!props.transition) {\n      const createTransition = useTransition(props, modal)\n      modal = createTransition()\n    }\n\n    return () => withDirectives(h(modal), [[vShow, props.modelValue]])\n  }\n})\n"],"sourceRoot":"","file":"VModal.js"}