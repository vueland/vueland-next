{"version":3,"sources":["../../../../src/components/VDataTable/VDataTableFooter.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VDataTableFooter.scss'\n\n// Vue API\nimport { watch, computed, defineComponent, h } from 'vue'\n\n// Components\nimport { VIcon } from '../VIcon'\nimport { VButton } from '../VButton'\nimport { VSelect } from '../VSelect'\n\n// Services\nimport { FaIcons } from '@/services/icons'\n\n// Effects\nimport { colorProps, useColors } from '../../effects/use-colors'\n\nexport const VDataTableFooter = defineComponent({\n  name: 'v-data-table-footer',\n  props: {\n    dark: Boolean,\n    pages: Number,\n    page: Number,\n    rowsPerPage: Number,\n    tableRowsCount: Number,\n    allRowsCount: Number,\n    counts: Array,\n    ...colorProps(),\n  } as any,\n\n  setup(props, { emit }) {\n    const { setTextColor } = useColors()\n\n    const lastOnPage = computed<number>(() => {\n      const { page, tableRowsCount, rowsPerPage } = props\n      return page * rowsPerPage > tableRowsCount\n        ? tableRowsCount : page * rowsPerPage\n    })\n\n    const firstOnPage = computed<number>(() => {\n      const { page, rowsPerPage } = props\n      return page === 1 ? 1 : (page - 1) * rowsPerPage + 1\n    })\n\n    const paginationDisplay = computed<string>(() => {\n      return props.tableRowsCount\n        ? `${ firstOnPage.value } - \n      ${ lastOnPage.value } from ${ props.tableRowsCount }` : '-'\n    })\n\n    const isLastPage = computed(() => {\n      return props.page >= props.pages\n    })\n\n    const overPages = computed<number | null>(() => {\n      const { page, tableRowsCount, rowsPerPage } = props\n\n      if ((page - 1) * rowsPerPage > tableRowsCount) {\n        return Math.ceil((page * rowsPerPage - tableRowsCount) / rowsPerPage)\n      }\n\n      return null\n    })\n\n    watch(\n      () => isLastPage.value,\n      to => {\n        if (to && props.tableRowsCount === props.allRowsCount) {\n          emit('last-page', props.allRowsCount)\n        }\n      },\n    )\n\n    function genColsSettingsButton() {\n      return h(VButton, {\n          class: 'v-data-table__add',\n          color: props.dark ? 'white' : 'primary',\n          width: 42,\n          outlined: props.dark,\n          elevation: 3,\n          onClick: () => emit('cols-settings'),\n        },\n        {\n          default: () =>\n            h(VIcon, {\n              icon: FaIcons.$sliders,\n              size: 20,\n              color: props.dark ? 'white' : '',\n            }),\n        },\n      )\n    }\n\n    function genSettingsBlock() {\n      return h('div', {\n        class: {\n          'v-data-table__settings': true\n        }\n      }, [\n        genColsSettingsButton()\n      ])\n    }\n\n    function changeTableRowsPage(isNext) {\n      if (props.page === props.pages && isNext) return\n\n      const event = isNext ? 'next' : 'prev'\n      emit(event, isNext ? 1 : -1)\n    }\n\n    function genPaginationButton(isNext) {\n      return h(\n        VButton,\n        {\n          width: 42,\n          color: props.dark ? 'white' : 'primary',\n          outlined: props.dark,\n          onClick: () => changeTableRowsPage(isNext),\n        },\n        {\n          default: () => h(VIcon, {\n            icon: isNext ? FaIcons.$arrowRight : FaIcons.$arrowLeft,\n            color: props.dark ? 'white' : '',\n            size: 18,\n          }),\n        },\n      )\n    }\n\n    function genPageDisplay() {\n      return h(\n        VButton,\n        {\n          width: 42,\n          style: { margin: '0 10px' },\n          color: props.dark ? 'white' : 'blue lighten-1',\n          outlined: props.dark,\n        },\n        {\n          default: () => props.page,\n        },\n      )\n    }\n\n    function genSelect() {\n      return h(VSelect, {\n        items: props.counts,\n        modelValue: props.rowsPerPage,\n        dark: props.dark,\n        listColor: props.color,\n        onSelect: e => emit('select', e),\n      })\n    }\n\n    function genSelectCaption() {\n      const propsData = {\n        class: {\n          'v-data-table__pagination-label': true,\n        },\n      }\n      const color = props.dark ? 'white' : ''\n\n      return h(\n        'span',\n        color ? setTextColor(color, propsData) : propsData,\n        'Rows per page',\n      )\n    }\n\n    function genPageItemsSelect() {\n      return h(\n        'div',\n        {\n          class: 'v-data-table__pagination-select',\n        },\n        [genSelectCaption(), genSelect()],\n      )\n    }\n\n    function genPagesCountDisplay() {\n      const propsData = {\n        class: {\n          'v-data-table__pagination-pages': true,\n        },\n      }\n\n      const color = props.dark ? 'white' : ''\n\n      overPages.value && emit('resetPage', -overPages.value)\n\n      return h(\n        'div',\n        color ? setTextColor(color, propsData) : propsData,\n        paginationDisplay.value,\n      )\n    }\n\n    function genPaginationButtonsBlock() {\n      return h(\n        'div',\n        {\n          class: {\n            'v-data-table__pagination-route': true,\n          },\n        },\n        [\n          genPaginationButton(false),\n          genPageDisplay(),\n          genPaginationButton(true),\n        ],\n      )\n    }\n\n    function genPaginationBlock() {\n      return h(\n        'div',\n        {\n          class: 'v-data-table__pagination',\n        },\n        [\n          genPageItemsSelect(),\n          genPagesCountDisplay(),\n          genPaginationButtonsBlock(),\n        ],\n      )\n    }\n\n    return () => h('div', {\n        class: 'v-data-table__footer',\n      },\n      [\n        genSettingsBlock(),\n        genPaginationBlock()\n      ],\n    )\n  },\n})\n"],"sourceRoot":"","file":"VDataTableFooter.js"}