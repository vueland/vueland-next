import { defineComponent, h, computed } from 'vue';
import { VList, VListItem, VListItemTitle } from '../VList';
import { getStringKeysValue } from '../../helpers';
export const VSelectList = defineComponent({
    name: 'v-select-list',
    props: {
        items: {
            type: Array,
            default: null,
        },
        color: {
            type: String,
            default: '#ffffff',
        },
        textColor: {
            type: String,
            default: '',
        },
        valueKey: {
            type: String,
            default: '',
        },
        selected: {
            type: [String, Number, Object],
            default: null,
        },
        activeClass: {
            type: String,
            default: '',
        }
    },
    emits: ['select'],
    setup(props, { emit }) {
        const computedSelect = computed({
            get() {
                const key = props.valueKey;
                const selectedValue = key ? props.selected ? getStringKeysValue(key, props.selected) : null : props.selected;
                return props.selected ? props.items.findIndex((it) => {
                    const itemValue = key ? getStringKeysValue(key, it) : it;
                    return itemValue === selectedValue;
                }) : null;
            },
            set(val) {
                emit('select', props.items[val]);
            },
        });
        const genItems = () => {
            return props.items.reduce((acc, it, i) => {
                const content = props.valueKey ?
                    getStringKeysValue(props.valueKey, it) : it;
                acc.push(h(VListItem, { key: i }, {
                    default: () => h(VListItemTitle, {}, {
                        default: () => content,
                    }),
                }));
                return acc;
            }, []);
        };
        const genItemsList = () => {
            return h(VList, {
                value: computedSelect.value,
                active: true,
                activeClass: props.activeClass,
                ['onUpdate:value']: val => computedSelect.value = val,
            }, {
                default: () => genItems(),
            });
        };
        return () => h('div', {
            class: 'v-select-list',
        }, [props.items ? genItemsList() : null]);
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVlNlbGVjdExpc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WU2VsZWN0L1ZTZWxlY3RMaXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsQ0FBQyxFQUFFLFFBQVEsRUFBRSxNQUFNLEtBQUssQ0FBQTtBQUVsRCxPQUFPLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxjQUFjLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFFM0QsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZUFBZSxDQUFBO0FBSWxELE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxlQUFlLENBQUM7SUFDekMsSUFBSSxFQUFFLGVBQWU7SUFDckIsS0FBSyxFQUFFO1FBQ0wsS0FBSyxFQUFFO1lBQ0wsSUFBSSxFQUFFLEtBQUs7WUFDWCxPQUFPLEVBQUUsSUFBSTtTQUNkO1FBQ0QsS0FBSyxFQUFFO1lBQ0wsSUFBSSxFQUFFLE1BQU07WUFDWixPQUFPLEVBQUUsU0FBUztTQUNuQjtRQUNELFNBQVMsRUFBRTtZQUNULElBQUksRUFBRSxNQUFNO1lBQ1osT0FBTyxFQUFFLEVBQUU7U0FDWjtRQUNELFFBQVEsRUFBRTtZQUNSLElBQUksRUFBRSxNQUFNO1lBQ1osT0FBTyxFQUFFLEVBQUU7U0FDWjtRQUNELFFBQVEsRUFBRTtZQUNSLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQzlCLE9BQU8sRUFBRSxJQUFJO1NBQ2Q7UUFDRCxXQUFXLEVBQUU7WUFDWCxJQUFJLEVBQUUsTUFBTTtZQUNaLE9BQU8sRUFBRSxFQUFFO1NBQ1o7S0FDRjtJQUNELEtBQUssRUFBRSxDQUFDLFFBQVEsQ0FBQztJQUNqQixLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFO1FBQ25CLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBZ0I7WUFDN0MsR0FBRztnQkFDRCxNQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFBO2dCQUUxQixNQUFNLGFBQWEsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUM3RCxHQUFHLEVBQ0gsS0FBSyxDQUFDLFFBQVEsQ0FDZixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUE7Z0JBRXpCLE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRTtvQkFDbkQsTUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQTtvQkFFeEQsT0FBTyxTQUFTLEtBQUssYUFBYSxDQUFBO2dCQUNwQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBO1lBQ1gsQ0FBQztZQUVELEdBQUcsQ0FBQyxHQUFXO2dCQUNiLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO1lBQ2xDLENBQUM7U0FDRixDQUFDLENBQUE7UUFFRixNQUFNLFFBQVEsR0FBRyxHQUFHLEVBQUU7WUFDcEIsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3ZDLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDOUIsa0JBQWtCLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBUyxDQUFBO2dCQUVuRCxHQUFhLENBQUMsSUFBSSxDQUNqQixDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUN2QixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxFQUFFLEVBQUU7d0JBQ25DLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPO3FCQUN2QixDQUFDO2lCQUNILENBQUMsQ0FBQyxDQUFBO2dCQUVMLE9BQU8sR0FBRyxDQUFBO1lBQ1osQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFBO1FBQ1IsQ0FBQyxDQUFBO1FBRUQsTUFBTSxZQUFZLEdBQUcsR0FBRyxFQUFFO1lBQ3hCLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRTtnQkFDZCxLQUFLLEVBQUUsY0FBYyxDQUFDLEtBQWU7Z0JBQ3JDLE1BQU0sRUFBRSxJQUFJO2dCQUNaLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztnQkFDOUIsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLEtBQUssR0FBRyxHQUFHO2FBQ3RELEVBQUU7Z0JBQ0QsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLFFBQVEsRUFBRTthQUMxQixDQUFDLENBQUE7UUFDSixDQUFDLENBQUE7UUFFRCxPQUFPLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUU7WUFDcEIsS0FBSyxFQUFFLGVBQWU7U0FDdkIsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO0lBQzNDLENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIGgsIGNvbXB1dGVkIH0gZnJvbSAndnVlJ1xuLy8gQ29tcG9uZW50c1xuaW1wb3J0IHsgVkxpc3QsIFZMaXN0SXRlbSwgVkxpc3RJdGVtVGl0bGUgfSBmcm9tICcuLi9WTGlzdCdcbi8vIEhlbHBlcnNcbmltcG9ydCB7IGdldFN0cmluZ0tleXNWYWx1ZSB9IGZyb20gJy4uLy4uL2hlbHBlcnMnXG4vLyBUeXBlc1xuaW1wb3J0IHsgTWF5YmUgfSBmcm9tICcuLi8uLi8uLi90eXBlcy9iYXNlJ1xuXG5leHBvcnQgY29uc3QgVlNlbGVjdExpc3QgPSBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiAndi1zZWxlY3QtbGlzdCcsXG4gIHByb3BzOiB7XG4gICAgaXRlbXM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICB9LFxuICAgIGNvbG9yOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBkZWZhdWx0OiAnI2ZmZmZmZicsXG4gICAgfSxcbiAgICB0ZXh0Q29sb3I6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcnLFxuICAgIH0sXG4gICAgdmFsdWVLZXk6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6ICcnLFxuICAgIH0sXG4gICAgc2VsZWN0ZWQ6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlciwgT2JqZWN0XSxcbiAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgfSxcbiAgICBhY3RpdmVDbGFzczoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJycsXG4gICAgfVxuICB9LFxuICBlbWl0czogWydzZWxlY3QnXSxcbiAgc2V0dXAocHJvcHMsIHsgZW1pdCB9KSB7XG4gICAgY29uc3QgY29tcHV0ZWRTZWxlY3QgPSBjb21wdXRlZDxNYXliZTxudW1iZXI+Pih7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHByb3BzLnZhbHVlS2V5XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRWYWx1ZSA9IGtleSA/IHByb3BzLnNlbGVjdGVkID8gZ2V0U3RyaW5nS2V5c1ZhbHVlKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICBwcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgKSA6IG51bGwgOiBwcm9wcy5zZWxlY3RlZFxuXG4gICAgICAgIHJldHVybiBwcm9wcy5zZWxlY3RlZCA/IHByb3BzLml0ZW1zLmZpbmRJbmRleCgoaXQpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtVmFsdWUgPSBrZXkgPyBnZXRTdHJpbmdLZXlzVmFsdWUoa2V5LCBpdCkgOiBpdFxuXG4gICAgICAgICAgcmV0dXJuIGl0ZW1WYWx1ZSA9PT0gc2VsZWN0ZWRWYWx1ZVxuICAgICAgICB9KSA6IG51bGxcbiAgICAgIH0sXG5cbiAgICAgIHNldCh2YWw6IG51bWJlcikge1xuICAgICAgICBlbWl0KCdzZWxlY3QnLCBwcm9wcy5pdGVtc1t2YWxdKVxuICAgICAgfSxcbiAgICB9KVxuXG4gICAgY29uc3QgZ2VuSXRlbXMgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gcHJvcHMuaXRlbXMucmVkdWNlKChhY2MsIGl0LCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBwcm9wcy52YWx1ZUtleSA/XG4gICAgICAgICAgZ2V0U3RyaW5nS2V5c1ZhbHVlKHByb3BzLnZhbHVlS2V5LCBpdCkgOiBpdCBhcyBhbnlcblxuICAgICAgICAoYWNjIGFzIGFueVtdKS5wdXNoKFxuICAgICAgICAgIGgoVkxpc3RJdGVtLCB7IGtleTogaSB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiBoKFZMaXN0SXRlbVRpdGxlLCB7fSwge1xuICAgICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiBjb250ZW50LFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSkpXG5cbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwgW10pXG4gICAgfVxuXG4gICAgY29uc3QgZ2VuSXRlbXNMaXN0ID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGgoVkxpc3QsIHtcbiAgICAgICAgdmFsdWU6IGNvbXB1dGVkU2VsZWN0LnZhbHVlIGFzIG51bWJlcixcbiAgICAgICAgYWN0aXZlOiB0cnVlLFxuICAgICAgICBhY3RpdmVDbGFzczogcHJvcHMuYWN0aXZlQ2xhc3MsXG4gICAgICAgIFsnb25VcGRhdGU6dmFsdWUnXTogdmFsID0+IGNvbXB1dGVkU2VsZWN0LnZhbHVlID0gdmFsLFxuICAgICAgfSwge1xuICAgICAgICBkZWZhdWx0OiAoKSA9PiBnZW5JdGVtcygpLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4gaCgnZGl2Jywge1xuICAgICAgY2xhc3M6ICd2LXNlbGVjdC1saXN0JyxcbiAgICB9LCBbcHJvcHMuaXRlbXMgPyBnZW5JdGVtc0xpc3QoKSA6IG51bGxdKVxuICB9LFxufSlcblxuIl19