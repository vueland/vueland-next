{"version":3,"sources":["../../../../src/components/transitions/expand-transition.ts"],"names":[],"mappings":"AAOA,MAAM,IAAI,GAAkB;AAC1B,EAAA,UAAU,EAAE,IADc;AAE1B,EAAA,QAAQ,EAAE,EAFgB;AAG1B,EAAA,MAAM,EAAE,CAHkB;AAI1B,EAAA,KAAK,EAAE;AAJmB,CAA5B;;AAOA,MAAM,WAAW,GAAI,EAAD,IAAO;AACzB,EAAA,EAAE,CAAC,KAAH,CAAS,IAAI,CAAC,QAAd,IAA0B,EAA1B;AACA,EAAA,EAAE,CAAC,KAAH,CAAS,UAAT,GAAsB,EAAtB;AACD,CAHD;;AAKA,MAAM,gBAAgB,GAAI,EAAD,IAAO;AAC9B,SAAO,KAAK,CAAC,SAAN,CAAgB,MAAhB,CAAuB,IAAvB,CACL,EAAE,CAAC,QADE,EAEL,CAAC,GAAD,EAAc,EAAd,KAAiC;AAC/B,UAAM,MAAM,GAAG,gBAAgB,CAAC,EAAD,CAAhB,CAAqB,IAAI,CAAC,QAA1B,CAAf;AAEA,WAAQ,GAAG,IAAI,UAAU,CAAC,MAAD,CAAzB;AACD,GANI,EAOL,CAPK,CAAP;AASD,CAVD;;AAYA,MAAM,aAAa,GAAI,EAAD,IAAO;AAC3B,EAAA,IAAI,CAAC,UAAL,GAAkB,gBAAgB,CAAC,EAAD,CAAhB,CAAqB,UAAvC;AACA,EAAA,IAAI,CAAC,IAAI,CAAC,QAAN,CAAJ,GAAsB,gBAAgB,CAAC,EAAD,CAAtC;AACD,CAHD;;AAKA,OAAO,MAAM,WAAW,GAAG,CACzB,mBADyB,EAEzB,CAAA,GAAa,KAFY,KAGvB;AACF,SAAO;AACL,IAAA,aAAa,CAAC,EAAD,EAAG;AACd,MAAA,IAAI,CAAC,QAAL,GAAgB,CAAC,GAAG,OAAH,GAAa,QAA9B;AACA,MAAA,EAAE,CAAC,KAAH,CAAS,UAAT,GAAsB,EAAtB;AACD,KAJI;;AAML,IAAA,OAAO,CAAC,EAAD,EAAG;AACR,MAAA,aAAa,CAAC,EAAD,CAAb;AACA,MAAA,EAAE,CAAC,KAAH,CAAS,IAAI,CAAC,QAAd,IAA0B,GAA1B;AACA,MAAA,EAAE,CAAC,KAAH,CAAS,UAAT,GAAsB,IAAI,CAAC,UAA3B;AAEA,MAAA,qBAAqB,CAAC,MAAK;AACzB,QAAA,EAAE,CAAC,KAAH,CAAS,IAAI,CAAC,QAAd,IAA0B,GAAG,IAAI,CAAC,IAAI,CAAC,QAAN,CAAe,IAAhD;AACD,OAFoB,CAArB;;AAIA,UAAI,mBAAJ,EAAyB;AACvB,QAAA,EAAE,CAAC,UAAH,CAAc,SAAd,CAAwB,GAAxB,CAA4B,mBAA5B;AACD;AACF,KAlBI;;AAoBL,IAAA,YAAY,CAAC,EAAD,EAAG;AACb,MAAA,EAAE,CAAC,UAAH,CAAc,SAAd,CAAwB,MAAxB,CAA+B,mBAA/B;AACA,MAAA,WAAW,CAAC,EAAD,CAAX;AACD,KAvBI;;AAyBL,IAAA,aAAa,CAAC,EAAD,EAAG;AACd,MAAA,aAAa,CAAC,EAAD,CAAb;AACD,KA3BI;;AA6BL,IAAA,OAAO,CAAC,EAAD,EAAG;AACR,MAAA,EAAE,CAAC,KAAH,CAAS,UAAT,GAAsB,IAAI,CAAC,UAA3B;AACA,MAAA,EAAE,CAAC,KAAH,CAAS,IAAI,CAAC,QAAd,IAA0B,GAAG,IAAI,CAAC,IAAI,CAAC,QAAN,CAAe,IAAhD;AAEA,MAAA,qBAAqB,CAAC,MAAO,EAAE,CAAC,KAAH,CAAS,IAAI,CAAC,QAAd,IAA0B,GAAlC,CAArB;AACD,KAlCI;;AAoCL,IAAA,YAAY,CAAC,EAAD,EAAG;AACb,MAAA,qBAAqB,CAAC,MAAM,WAAW,CAAC,EAAD,CAAlB,CAArB;AACD;;AAtCI,GAAP;AAwCD,CA5CM","sourcesContent":["interface InitialStyles {\n  transition: string | null;\n  propSize: string;\n  height?: number;\n  width?: number;\n}\n\nconst init: InitialStyles = {\n  transition: null,\n  propSize: \"\",\n  height: 0,\n  width: 0,\n};\n\nconst resetStyles = (el) => {\n  el.style[init.propSize] = \"\";\n  el.style.transition = \"\";\n};\n\nconst getChildrenSizes = (el) => {\n  return Array.prototype.reduce.call(\n    el.children,\n    (acc: number, it: HTMLElement) => {\n      const height = getComputedStyle(it)[init.propSize];\n\n      return (acc += parseFloat(height));\n    },\n    0\n  ) as number;\n};\n\nconst setInitStyles = (el) => {\n  init.transition = getComputedStyle(el).transition;\n  init[init.propSize] = getChildrenSizes(el);\n};\n\nexport const expandHooks = (\n  expandedParentClass: string,\n  x: boolean = false\n) => {\n  return {\n    onBeforeEnter(el) {\n      init.propSize = x ? \"width\" : \"height\";\n      el.style.transition = \"\";\n    },\n\n    onEnter(el) {\n      setInitStyles(el);\n      el.style[init.propSize] = \"0\";\n      el.style.transition = init.transition;\n\n      requestAnimationFrame(() => {\n        el.style[init.propSize] = `${init[init.propSize]}px`;\n      });\n\n      if (expandedParentClass) {\n        el.parentNode.classList.add(expandedParentClass);\n      }\n    },\n\n    onAfterEnter(el) {\n      el.parentNode.classList.remove(expandedParentClass);\n      resetStyles(el);\n    },\n\n    onBeforeLeave(el) {\n      setInitStyles(el);\n    },\n\n    onLeave(el) {\n      el.style.transition = init.transition;\n      el.style[init.propSize] = `${init[init.propSize]}px`;\n\n      requestAnimationFrame(() => (el.style[init.propSize] = \"0\"));\n    },\n\n    onAfterLeave(el) {\n      requestAnimationFrame(() => resetStyles(el));\n    },\n  };\n};\n"],"sourceRoot":"","file":"expand-transition.js"}