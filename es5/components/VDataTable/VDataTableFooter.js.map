{"version":3,"sources":["../../../../src/components/VDataTable/VDataTableFooter.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VDataTableFooter.scss'\n\n// Vue API\nimport { watch, computed, defineComponent, h } from 'vue'\n\n// Components\nimport { VIcon } from '../VIcon'\nimport { VButton } from '../VButton'\nimport { VSelect } from '../VSelect'\n\n// Services\nimport { FaIcons } from '../../services/icons'\n\n// Effects\nimport { colorProps, useColors } from '../../effects/use-colors'\n\nexport const VDataTableFooter = defineComponent({\n  name: 'v-data-table-footer',\n  props: {\n    dark: Boolean,\n    pages: Number,\n    page: Number,\n    rowsPerPage: Number,\n    tableRowsCount: Number,\n    allRowsCount: Number,\n    counts: Array,\n    ...colorProps(),\n  } as any,\n\n  emits: [\n    'last-page',\n    'reset-page',\n    'select',\n    'next',\n    'prev',\n  ],\n\n  setup(props, { emit }) {\n    const { setTextColor } = useColors()\n\n    const lastOnPage = computed<number>(() => {\n      const { page, tableRowsCount, rowsPerPage } = props\n      return page * rowsPerPage > tableRowsCount\n        ? tableRowsCount\n        : page * rowsPerPage\n    })\n\n    const firstOnPage = computed<number>(() => {\n      const { page, rowsPerPage } = props\n      return page === 1 ? 1 : (page - 1) * rowsPerPage + 1\n    })\n\n    const paginationDisplay = computed<string>(() => {\n      return props.tableRowsCount\n        ? `${ firstOnPage.value } - ${ lastOnPage.value } from ${ props.tableRowsCount }`\n        : '-'\n    })\n\n    const isLastPage = computed(() => {\n      return props.page >= props.pages\n    })\n\n    const overPages = computed<number | null>(() => {\n      const { page, tableRowsCount, rowsPerPage } = props\n\n      if ((page - 1) * rowsPerPage > tableRowsCount) {\n        return Math.ceil((page * rowsPerPage - tableRowsCount) / rowsPerPage)\n      }\n\n      return null\n    })\n\n    watch(\n      () => isLastPage.value,\n      (to) => {\n        if (to && props.tableRowsCount === props.allRowsCount) {\n          emit('last-page', props.allRowsCount)\n        }\n      },\n    )\n\n    function changeTableRowsPage(isNext) {\n      if (props.page === props.pages && isNext) return\n\n      const event = isNext ? 'next' : 'prev'\n      emit(event, isNext ? 1 : -1)\n    }\n\n    function genPaginationButton(isNext) {\n      return h(\n        VButton,\n        {\n          width: 42,\n          color: props.dark ? 'white' : 'primary',\n          text: props.dark,\n          elevation: 3,\n          onClick: () => changeTableRowsPage(isNext),\n        },\n        {\n          default: () =>\n            h(VIcon, {\n              icon: isNext ? FaIcons.$arrowRight : FaIcons.$arrowLeft,\n              color: props.dark ? 'white' : '',\n              size: 18,\n            }),\n        },\n      )\n    }\n\n    function genPageDisplay() {\n      return h(\n        VButton,\n        {\n          width: 42,\n          style: { margin: '0 10px' },\n          color: props.dark ? 'white' : 'blue lighten-1',\n          text: props.dark,\n          elevation: 3,\n        },\n        {\n          default: () => props.page,\n        },\n      )\n    }\n\n    function genSelect() {\n      return h(VSelect, {\n        items: props.counts,\n        modelValue: props.rowsPerPage,\n        dark: props.dark,\n        listColor: props.color,\n        onSelect: (e) => emit('select', e),\n      })\n    }\n\n    function genSelectCaption() {\n      const propsData = {\n        class: {\n          'v-data-table__pagination-label': true,\n        },\n      }\n      const color = props.dark ? 'white' : ''\n\n      return h(\n        'span',\n        color ? setTextColor(color, propsData) : propsData,\n        'Rows per page',\n      )\n    }\n\n    function genPageItemsSelect() {\n      return h('div', { class: 'v-data-table__pagination-select' }, [\n        genSelectCaption(),\n        genSelect(),\n      ])\n    }\n\n    function genPagesCountDisplay() {\n      const propsData = {\n        class: {\n          'v-data-table__pagination-pages': true,\n        },\n      }\n\n      const color = props.dark ? 'white' : ''\n\n      overPages.value && emit('reset-page', -overPages.value)\n\n      return h(\n        'div',\n        color ? setTextColor(color, propsData) : propsData,\n        paginationDisplay.value,\n      )\n    }\n\n    function genPaginationButtonsBlock() {\n      return h('div', { class: { 'v-data-table__pagination-route': true } }, [\n        genPaginationButton(false),\n        genPageDisplay(),\n        genPaginationButton(true),\n      ])\n    }\n\n    function genPaginationBlock() {\n      return h('div', { class: 'v-data-table__pagination' }, [\n        genPageItemsSelect(),\n        genPagesCountDisplay(),\n        genPaginationButtonsBlock(),\n      ])\n    }\n\n    return () =>\n      h(\n        'div',\n        {\n          class: 'v-data-table__footer',\n        },\n        genPaginationBlock(),\n      )\n  },\n})\n"],"sourceRoot":"","file":"VDataTableFooter.js"}