{"version":3,"sources":["../../../../src/components/VProgressCircular/VProgressCircular.ts"],"names":[],"mappings":"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","sourcesContent":["import './VProgressCircular.scss'\n\nimport { h, computed, defineComponent } from 'vue'\n\n// Effects\nimport { colorProps, useColors } from '../../effects/use-colors'\n\n// Types\nimport { VNode } from 'vue'\nimport { convertToUnit } from '../../helpers'\n\nexport const VProgressCircular = defineComponent({\n  name: 'v-progress-circular',\n  props: {\n    indeterminate: Boolean,\n    size: {\n      type: [Number, String],\n      default: 32,\n    },\n    width: {\n      type: [Number, String],\n      default: 4,\n    },\n    value: {\n      type: [Number, String],\n      default: 0,\n    },\n    rotate: {\n      type: [Number, String],\n      default: 0,\n    },\n    ...colorProps(),\n  },\n  setup(props, { slots }) {\n    const radius = 20\n\n    const { setTextColor } = useColors()\n\n    const normalizedValue = computed<number>(() => {\n      if (props.value < 0) return 0\n\n      if (props.value > 100) return 100\n\n      return parseFloat(props.value as string)\n    })\n\n    const classes = computed<Record<string, boolean>>(() => {\n      return {\n        'v-progress-circular': true,\n        'v-progress-circular--indeterminate': props.indeterminate,\n      }\n    })\n\n    const circumference = computed<number>(() => {\n      return 2 * Math.PI * radius\n    })\n\n    const strokeDashArray = computed<number>(() => {\n      return Math.round(circumference.value * 1000) / 1000\n    })\n\n    const strokeDashOffset = computed<string>(() => {\n      return ((100 - normalizedValue.value) / 100) * circumference.value + 'px'\n    })\n\n    const viewBoxSize = computed<number>(() => {\n      return radius / (1 - Number(props.width) / +props.size)\n    })\n\n    const strokeWidth = computed<number>(() => {\n      return (Number(props.width) / +props.size) * viewBoxSize.value * 2\n    })\n\n    const styles = computed<object>(() => {\n      return {\n        width: convertToUnit(props.size),\n        height: convertToUnit(props.size),\n      }\n    })\n\n    const svgStyle = computed(() => {\n      return {\n        transform: `rotate(${+props.rotate}deg)`,\n      }\n    })\n\n    function genCircle(name: string, offset: string | number): VNode {\n      return h('circle', {\n        class: `v-progress-circular__${name}`,\n        fill: 'transparent',\n        cx: 2 * viewBoxSize.value,\n        cy: 2 * viewBoxSize.value,\n        r: radius,\n        'stroke-width': strokeWidth.value,\n        'stroke-dasharray': strokeDashArray.value,\n        'stroke-dashoffset': offset,\n      })\n    }\n\n    function genSvg() {\n      const children = [\n        props.indeterminate || genCircle('underlay', 0),\n        genCircle('overlay', strokeDashOffset.value),\n      ]\n\n      const propsData = {\n        xmlns: 'http://www.w3.org/2000/svg',\n        viewBox: `${viewBoxSize.value} ${viewBoxSize.value} ${\n          2 * viewBoxSize.value\n        } ${2 * viewBoxSize.value}`,\n\n        style: svgStyle.value,\n      }\n\n      return h('svg', propsData, children)\n    }\n\n    function genInfo() {\n      const propsData = {\n        class: 'v-progress-circular__info',\n      }\n      return h('div', propsData, slots.default && slots.default())\n    }\n\n    return () => {\n      const propsData = setTextColor(props.color!, {\n        class: classes.value,\n        style: styles.value,\n      })\n      return h('div', propsData, [genSvg(), genInfo()])\n    }\n  },\n})\n"],"sourceRoot":"","file":"VProgressCircular.js"}