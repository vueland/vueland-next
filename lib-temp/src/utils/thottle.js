export const throttle = (fn, timeout) => {
    let lastThis = null;
    let lastArgs = null;
    let isThrottled = false;
    function wrapper(...args) {
        if (isThrottled) {
            lastThis = this;
            lastArgs = args;
            return;
        }
        lastArgs && fn.call(lastThis, ...lastArgs);
        isThrottled = true;
        setTimeout(() => {
            isThrottled = false;
            if (lastArgs) {
                wrapper.apply(lastThis, lastArgs);
            }
            lastThis = null;
            lastArgs = null;
        }, timeout);
    }
    return wrapper;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhvdHRsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlscy90aG90dGxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRTtJQUN0QyxJQUFJLFFBQVEsR0FBUSxJQUFJLENBQUE7SUFDeEIsSUFBSSxRQUFRLEdBQVEsSUFBSSxDQUFBO0lBQ3hCLElBQUksV0FBVyxHQUFHLEtBQUssQ0FBQTtJQUV2QixTQUFTLE9BQU8sQ0FBQyxHQUFHLElBQUk7UUFDdEIsSUFBSSxXQUFXLEVBQUU7WUFFZixRQUFRLEdBQUcsSUFBSSxDQUFBO1lBQ2YsUUFBUSxHQUFHLElBQUksQ0FBQTtZQUNmLE9BQU07U0FDUDtRQUVELFFBQVEsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLFFBQVEsQ0FBQyxDQUFBO1FBRTFDLFdBQVcsR0FBRyxJQUFJLENBQUE7UUFFbEIsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUNkLFdBQVcsR0FBRyxLQUFLLENBQUE7WUFFbkIsSUFBSSxRQUFRLEVBQUU7Z0JBQ1osT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUE7YUFDbEM7WUFDRCxRQUFRLEdBQUcsSUFBSSxDQUFBO1lBQ2YsUUFBUSxHQUFHLElBQUksQ0FBQTtRQUNqQixDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUE7SUFDYixDQUFDO0lBRUQsT0FBTyxPQUFPLENBQUE7QUFDaEIsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHRocm90dGxlID0gKGZuLCB0aW1lb3V0KSA9PiB7XG4gIGxldCBsYXN0VGhpczogYW55ID0gbnVsbFxuICBsZXQgbGFzdEFyZ3M6IGFueSA9IG51bGxcbiAgbGV0IGlzVGhyb3R0bGVkID0gZmFsc2VcblxuICBmdW5jdGlvbiB3cmFwcGVyKC4uLmFyZ3MpIHtcbiAgICBpZiAoaXNUaHJvdHRsZWQpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGxhc3RUaGlzID0gdGhpc1xuICAgICAgbGFzdEFyZ3MgPSBhcmdzXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsYXN0QXJncyAmJiBmbi5jYWxsKGxhc3RUaGlzLCAuLi5sYXN0QXJncylcblxuICAgIGlzVGhyb3R0bGVkID0gdHJ1ZVxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpc1Rocm90dGxlZCA9IGZhbHNlXG5cbiAgICAgIGlmIChsYXN0QXJncykge1xuICAgICAgICB3cmFwcGVyLmFwcGx5KGxhc3RUaGlzLCBsYXN0QXJncylcbiAgICAgIH1cbiAgICAgIGxhc3RUaGlzID0gbnVsbFxuICAgICAgbGFzdEFyZ3MgPSBudWxsXG4gICAgfSwgdGltZW91dClcbiAgfVxuXG4gIHJldHVybiB3cmFwcGVyXG59XG4iXX0=