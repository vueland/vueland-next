{"version":3,"sources":["../../../../src/directives/v-resize/index.ts"],"names":[],"mappings":"AAOA,OAAO,MAAM,MAAM,GAAG;AACpB,EAAA,OAAO,CAAC,EAAD,EAAwB,OAAxB,EAAqD;AAC1D,UAAM,QAAQ,GAAG,OAAO,CAAC,KAAzB;AACA,UAAM,OAAO,GAAG,OAAO,CAAC,OAAR,IAAmB;AAAE,MAAA,OAAO,EAAE;AAAX,KAAnC;AAEA,IAAA,MAAM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,QAAlC,EAA4C,OAA5C;AAEA,IAAA,EAAE,CAAC,SAAH,GAAe;AACb,MAAA,QADa;AAEb,MAAA;AAFa,KAAf;;AAIA,QAAI,CAAC,OAAO,CAAC,SAAT,IAAsB,CAAC,OAAO,CAAC,SAAR,CAAkB,KAA7C,EAAoD;AAClD,MAAA,QAAQ;AACT;AACF,GAdmB;;AAgBpB,EAAA,aAAa,CAAC,EAAD,EAAG;AACd,QAAI,CAAC,EAAE,CAAC,SAAR,EAAmB;AAEnB,UAAM;AAAE,MAAA,QAAF;AAAY,MAAA;AAAZ,QAAwB,EAAE,CAAC,SAAjC;AACA,IAAA,MAAM,CAAC,mBAAP,CAA2B,QAA3B,EAAqC,QAArC,EAA+C,OAA/C;AACA,WAAO,EAAE,CAAC,SAAV;AACD;;AAtBmB,CAAf","sourcesContent":["import { DirectiveBinding } from 'vue'\n\ninterface ResizeVNodeDirective extends DirectiveBinding {\n  value: () => void\n  options: boolean | AddEventListenerOptions\n}\n\nexport const resize = {\n  mounted(el: HTMLElement & any, binding: ResizeVNodeDirective) {\n    const callback = binding.value!\n    const options = binding.options || { passive: true }\n\n    window.addEventListener('resize', callback, options)\n\n    el._onResize = {\n      callback,\n      options\n    }\n    if (!binding.modifiers || !binding.modifiers.quiet) {\n      callback()\n    }\n  },\n\n  beforeUnmount(el) {\n    if (!el._onResize) return\n\n    const { callback, options } = el._onResize\n    window.removeEventListener('resize', callback, options)\n    delete el._onResize\n  }\n}\n"],"sourceRoot":"","file":"index.js"}