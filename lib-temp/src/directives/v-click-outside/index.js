function clickHandler(e, el) {
    if (el.contains(e.target) &&
        el._binds.value &&
        !el._binds.value.closeConditional)
        return;
    if (typeof el._binds.value === 'function')
        el._binds.value();
    if (typeof el._binds.value === 'object')
        el._binds.value.handler();
}
function removeListener(el) {
    document.body.removeEventListener('click', el._onClick, true);
    delete el._onClick;
    delete el._binds;
}
export const vClickOutside = {
    beforeMount(el, binding) {
        el._binds = binding;
    },
    mounted(el) {
        el._onClick = e => clickHandler(e, el);
        document.body.addEventListener('click', el._onClick, true);
    },
    beforeUpdate(el, binding) {
        el._binds = binding;
    },
    beforeUnmount(el) {
        removeListener(el);
    },
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZGlyZWN0aXZlcy92LWNsaWNrLW91dHNpZGUvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsU0FBUyxZQUFZLENBQUMsQ0FBQyxFQUFFLEVBQUU7SUFDekIsSUFBSSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDdkIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLO1FBQ2YsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0I7UUFDakMsT0FBTTtJQUVSLElBQUksT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssS0FBSyxVQUFVO1FBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTtJQUU1RCxJQUFJLE9BQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEtBQUssUUFBUTtRQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFBO0FBQ3BFLENBQUM7QUFFRCxTQUFTLGNBQWMsQ0FBQyxFQUFFO0lBQ3hCLFFBQVEsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDN0QsT0FBTyxFQUFFLENBQUMsUUFBUSxDQUFBO0lBQ2xCLE9BQU8sRUFBRSxDQUFDLE1BQU0sQ0FBQTtBQUNsQixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHO0lBRTNCLFdBQVcsQ0FBQyxFQUFFLEVBQUUsT0FBTztRQUNyQixFQUFFLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQTtJQUNyQixDQUFDO0lBRUQsT0FBTyxDQUFDLEVBQUU7UUFDUixFQUFFLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQTtRQUN0QyxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQzVELENBQUM7SUFFRCxZQUFZLENBQUMsRUFBRSxFQUFFLE9BQU87UUFDdEIsRUFBRSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUE7SUFDckIsQ0FBQztJQUVELGFBQWEsQ0FBQyxFQUFFO1FBQ2QsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFBO0lBQ3BCLENBQUM7Q0FDRixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY2xpY2tIYW5kbGVyKGUsIGVsKSB7XG4gIGlmIChlbC5jb250YWlucyhlLnRhcmdldCkgJiZcbiAgICBlbC5fYmluZHMudmFsdWUgJiZcbiAgICAhZWwuX2JpbmRzLnZhbHVlLmNsb3NlQ29uZGl0aW9uYWxcbiAgKSByZXR1cm5cblxuICBpZiAodHlwZW9mIGVsLl9iaW5kcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgZWwuX2JpbmRzLnZhbHVlKClcblxuICBpZiAodHlwZW9mIGVsLl9iaW5kcy52YWx1ZSA9PT0gJ29iamVjdCcpIGVsLl9iaW5kcy52YWx1ZS5oYW5kbGVyKClcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZWwpIHtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGVsLl9vbkNsaWNrLCB0cnVlKVxuICBkZWxldGUgZWwuX29uQ2xpY2tcbiAgZGVsZXRlIGVsLl9iaW5kc1xufVxuXG5leHBvcnQgY29uc3QgdkNsaWNrT3V0c2lkZSA9IHtcblxuICBiZWZvcmVNb3VudChlbCwgYmluZGluZykge1xuICAgIGVsLl9iaW5kcyA9IGJpbmRpbmdcbiAgfSxcblxuICBtb3VudGVkKGVsKSB7XG4gICAgZWwuX29uQ2xpY2sgPSBlID0+IGNsaWNrSGFuZGxlcihlLCBlbClcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZWwuX29uQ2xpY2ssIHRydWUpXG4gIH0sXG5cbiAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nKSB7XG4gICAgZWwuX2JpbmRzID0gYmluZGluZ1xuICB9LFxuXG4gIGJlZm9yZVVubW91bnQoZWwpIHtcbiAgICByZW1vdmVMaXN0ZW5lcihlbClcbiAgfSxcbn1cbiJdfQ==