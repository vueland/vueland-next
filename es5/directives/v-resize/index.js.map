{"version":3,"sources":["../../../../src/directives/v-resize/index.ts"],"names":[],"mappings":";;;;;;AAOO,IAAM,MAAM,GAAG;AACpB,EAAA,OADoB,mBACZ,EADY,EACW,OADX,EACwC;AAC1D,QAAM,QAAQ,GAAG,OAAO,CAAC,KAAzB;AACA,QAAM,OAAO,GAAG,OAAO,CAAC,OAAR,IAAmB;AAAE,MAAA,OAAO,EAAE;AAAX,KAAnC;AAEA,IAAA,MAAM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,QAAlC,EAA4C,OAA5C;AAEA,IAAA,EAAE,CAAC,SAAH,GAAe;AACb,MAAA,QAAQ,EAAR,QADa;AAEb,MAAA,OAAO,EAAP;AAFa,KAAf;;AAIA,QAAI,CAAC,OAAO,CAAC,SAAT,IAAsB,CAAC,OAAO,CAAC,SAAR,CAAkB,KAA7C,EAAoD;AAClD,MAAA,QAAQ;AACT;AACF,GAdmB;AAgBpB,EAAA,aAhBoB,yBAgBN,EAhBM,EAgBJ;AACd,QAAI,CAAC,EAAE,CAAC,SAAR,EAAmB;AAEnB,wBAA8B,EAAE,CAAC,SAAjC;AAAA,QAAQ,QAAR,iBAAQ,QAAR;AAAA,QAAkB,OAAlB,iBAAkB,OAAlB;AACA,IAAA,MAAM,CAAC,mBAAP,CAA2B,QAA3B,EAAqC,QAArC,EAA+C,OAA/C;AACA,WAAO,EAAE,CAAC,SAAV;AACD;AAtBmB,CAAf","sourcesContent":["import { DirectiveBinding } from 'vue'\n\ninterface ResizeVNodeDirective extends DirectiveBinding {\n  value: () => void\n  options: boolean | AddEventListenerOptions\n}\n\nexport const resize = {\n  mounted(el: HTMLElement & any, binding: ResizeVNodeDirective) {\n    const callback = binding.value!\n    const options = binding.options || { passive: true }\n\n    window.addEventListener('resize', callback, options)\n\n    el._onResize = {\n      callback,\n      options\n    }\n    if (!binding.modifiers || !binding.modifiers.quiet) {\n      callback()\n    }\n  },\n\n  beforeUnmount(el) {\n    if (!el._onResize) return\n\n    const { callback, options } = el._onResize\n    window.removeEventListener('resize', callback, options)\n    delete el._onResize\n  }\n}\n"],"sourceRoot":"","file":"index.js"}