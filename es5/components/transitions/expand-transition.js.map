{"version":3,"sources":["../../../../src/components/transitions/expand-transition.ts"],"names":[],"mappings":"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","sourcesContent":["interface InitialStyles {\n  transition: string | null\n  propSize: string\n  height?: number\n  width?: number\n}\n\nconst init: InitialStyles = {\n  transition: null,\n  propSize: '',\n  height: 0,\n  width: 0,\n}\n\nconst resetStyles = el => {\n  el.style[init.propSize] = ''\n  el.style.transition = ''\n}\n\nconst getChildrenSizes = el => {\n  return Array.prototype.reduce.call(\n    el.children,\n    (acc: number, it: HTMLElement) => {\n      const height = getComputedStyle(it)[init.propSize]\n\n      return (acc += parseFloat(height))\n    },\n    0,\n  ) as number\n}\n\nconst setInitStyles = el => {\n  init.transition = getComputedStyle(el).transition\n  init[init.propSize] = getChildrenSizes(el)\n}\n\nexport const expandHooks = (\n  expandedParentClass: string,\n  x: boolean = false,\n) => {\n  return {\n    onBeforeEnter(el) {\n      init.propSize = x ? 'width' : 'height'\n      el.style.transition = ''\n    },\n\n    onEnter(el) {\n      setInitStyles(el)\n      el.style[init.propSize] = '0'\n      el.style.transition = init.transition\n\n      requestAnimationFrame(() => {\n        el.style[init.propSize] = `${init[init.propSize]}px`\n      })\n\n      if (expandedParentClass) {\n        el.parentNode.classList.add(expandedParentClass)\n      }\n    },\n\n    onAfterEnter(el) {\n      el.parentNode.classList.remove(expandedParentClass)\n      resetStyles(el)\n    },\n\n    onBeforeLeave(el) {\n      setInitStyles(el)\n    },\n\n    onLeave(el) {\n      el.style.transition = init.transition\n      el.style[init.propSize] = `${init[init.propSize]}px`\n\n      requestAnimationFrame(() => (el.style[init.propSize] = '0'))\n    },\n\n    onAfterLeave(el) {\n      requestAnimationFrame(() => resetStyles(el))\n    },\n  }\n}\n"],"sourceRoot":"","file":"expand-transition.js"}