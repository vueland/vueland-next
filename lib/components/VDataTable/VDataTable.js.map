{"version":3,"sources":["../../../../src/components/VDataTable/VDataTable.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VDataTable.scss'\n\n// Vue API\nimport { h, watch, computed, defineComponent, reactive } from 'vue'\n\n// Effects\nimport { useColors } from '../../effects/use-colors'\n// import { useTheme } from '../../effects/use-theme'\n\n// Components\nimport { VDataTableHeader } from './VDataTableHeader'\nimport { VDataTableBody } from './VDataTableBody'\nimport { VDataTableFooter } from './VDataTableFooter'\n\n// Helpers\nimport { addScopedSlot } from './helpers'\n\n// Types\nimport { VNode, PropType } from 'vue'\nimport { Column, FooterOptions, HeaderOptions, TableFilter } from '../../types'\n\ntype TableState = {\n  cols: Column[]\n  rows: { [key: string]: any }[]\n  checkedRows: { [key: string]: any }[]\n  rowsOnPage: number\n  page: number\n  isAllRowsChecked: boolean\n}\n\nexport const VDataTable = defineComponent({\n  name: 'v-data-table',\n  props: {\n    cols: {\n      type: Array,\n      default: () => []\n    },\n    rows: {\n      type: Array,\n      default: () => []\n    },\n    dark: Boolean,\n    showSequence: Boolean,\n    showCheckbox: Boolean,\n    align: {\n      type: String,\n      validator: (val) => ['left', 'center', 'right'].includes(val)\n    },\n    color: {\n      type: String,\n      default: 'white'\n    },\n    headerOptions: {\n      type: Object as PropType<HeaderOptions>,\n      default: () => ({})\n    },\n    footerOptions: {\n      type: Object as PropType<FooterOptions>,\n      default: () => ({\n        rowsPerPageOptions: [5, 10, 15, 20]\n      })\n    },\n    customFilter: Function\n  } as any,\n\n  emits: [\n    'last-page',\n    'select:row',\n    'click:row',\n    'dblclick:row',\n    'contextmenu:row'\n  ],\n\n  setup(props, { slots, emit }) {\n    const data = reactive<TableState>({\n      cols: [],\n      rows: [],\n      checkedRows: [],\n      rowsOnPage: 20,\n      page: 1,\n      isAllRowsChecked: false\n    })\n\n    const { setBackground } = useColors()\n\n    const filters = {}\n\n    const classes = computed<Record<string, boolean>>(() => ({\n      'v-data-table': true\n    }))\n\n    const headerOptions = computed<HeaderOptions>(() => ({\n      color: props.color,\n      dark: props.dark,\n      ...props.headerOptions\n    }))\n\n    const footerOptions = computed<FooterOptions>(() => ({\n      color: props.color,\n      dark: props.dark,\n      ...props.footerOptions\n    }))\n\n    const pages = computed<number>(() => {\n      return Math.ceil(data.rows?.length / data.rowsOnPage)\n    })\n\n    const firstOnPage = computed<number>(() => {\n      return data.page === 1 ? 1 : (data.page - 1) * data.rowsOnPage + 1\n    })\n\n    const lastOnPage = computed<number>(() => {\n      return data.page * data.rowsOnPage > data.rows?.length\n        ? data.rows?.length\n        : data.page * data.rowsOnPage\n    })\n\n    const pageCorrection = computed<number | null>(() => {\n      if ((data.page - 1) * data.rowsOnPage > data.rows?.length) {\n        return Math.ceil(\n          (data.page * data.rowsOnPage - data.rows?.length) / data.rowsOnPage\n        )\n      }\n\n      return null\n    })\n\n    watch(\n      () => props.cols,\n      (to) => (data.cols = Object.assign([], to)),\n      { immediate: true }\n    )\n\n    watch(\n      () => props.rows,\n      (to) => (data.rows = Object.assign([], to)),\n      { immediate: true }\n    )\n\n    function onSelectAll(value: boolean) {\n      data.isAllRowsChecked = value\n      data.rows.forEach((row) => (row.checked = value))\n    }\n\n    function onSelect<T extends TableState['rows']>(rows: T) {\n      data.checkedRows = rows\n      emit('select:row', data.checkedRows)\n    }\n\n    function onPrevPage(num: number) {\n      data.page = data.page > 1 ? data.page + num : data.page\n    }\n\n    function onNextPage(num: number) {\n      if (data.rows.length - data.page * data.rowsOnPage > 0) {\n        data.page += num\n      }\n    }\n\n    function onSort<T extends Column, S extends { sorted: boolean }>(col: T & S) {\n      if (col.sorted) {\n        col.sorted = !col.sorted\n        return sortColumn(col)\n      }\n\n      data.cols.forEach((c: T & S) => (c.sorted = col.key === c.key))\n\n      sortColumn(col)\n    }\n\n    function sortColumn<T extends Column, S extends { sorted: boolean }>(col: T & S) {\n      if (!col.sorted) {\n        return data.rows!.reverse()\n      }\n\n      const executor =\n        col.sort ||\n        ((a, b) => {\n          if (col.format) return col.format(a) > col.format(b) ? 1 : -1\n          if (col.sorted) return a[col.key] > b[col.key] ? 1 : -1\n        })\n\n      data.rows.sort(executor as any)\n    }\n\n    function onFilter({ value, col }: TableFilter) {\n      if (!value && filters[col.key]) delete filters[col.key]\n\n      if (value) filters[col.key] = value\n\n      if (col.filter) {\n        return (data.rows = col.filter({ value, col }))\n      }\n      if (props.customFilter) {\n        return props.customFilter(filters as any)\n      }\n      if (!Object.keys(filters).length) {\n        return (data.rows = props.rows)\n      }\n\n      data.rows = filterRows(props.rows, props.cols)\n      data.page = 1\n    }\n\n    function onSelectRowsCount(count: number) {\n      data.rowsOnPage = count\n    }\n\n    function filterRows<T, C extends Column>(rows: T[], cols: C[]) {\n      const filterKeys = Object.keys(filters)\n\n      return rows.reduce((acc, row) => {\n        const rowResults: T[] = []\n\n        filterKeys.forEach((key) => {\n          const { format } = cols.find((col) => col.key === key) as Column\n\n          const value = format ? format(row) : row[key]\n\n          const rowKeyValue = `${ value }`.toLowerCase()\n          const filterValue = `${ filters[key] }`.toLowerCase()\n\n          if (rowKeyValue.includes(filterValue)) {\n            rowResults.push(row[key])\n          }\n        })\n\n        if (\n          rowResults.length === filterKeys.length &&\n          rowResults.every((value) => !!value)\n        ) {\n          acc.push(row)\n        }\n\n        return acc\n      }, [] as T[])\n    }\n\n    function genTableTools(): VNode {\n      const propsData = { class: 'v-data-table__toolbar' }\n\n      return h('div', propsData, {\n        default: () => slots.toolbar && slots.toolbar()\n      })\n    }\n\n    function genTableHeader(): VNode {\n      const propsData = {\n        cols: data.cols,\n        color: props.color,\n        showCheckbox: !!props.showCheckbox,\n        dark: props.dark,\n        align: props.align,\n        showSequence: props.showSequence,\n        options: headerOptions.value,\n        onFilter,\n        onSort,\n        onSelectAll\n      }\n\n      const content = data.cols.reduce((acc, col) => {\n        const slotName = `${ col.key }-filter`\n\n        if (col && slots[slotName]) {\n          acc[slotName] = addScopedSlot(slotName, slots)\n        }\n\n        return acc\n      }, {} as any)\n\n      content.header = addScopedSlot('header', slots)\n\n      return h(VDataTableHeader, propsData, content)\n    }\n\n    function genTableBody(): VNode {\n      const propsData = {\n        cols: data.cols,\n        rows: data.rows,\n        page: data.page,\n        rowsOnPage: data.rowsOnPage,\n        showCheckbox: props.showCheckbox,\n        checkAllRows: data.isAllRowsChecked,\n        align: props.align,\n        dark: props.dark,\n        showSequence: props.showSequence,\n        color: props.color,\n        onSelect,\n        ['onClick:row']: (e) => emit('click:row', e),\n        ['onDblclick:row']: (e) => emit('dblclick:row', e),\n        ['onContextmenu:row']: (e) => emit('contextmenu:row', e)\n      }\n\n      const content = props.cols.reduce((acc, col) => {\n        if (col && slots[col.key]) {\n          acc[col.key] = addScopedSlot(col.key, slots)\n        }\n        return acc\n      }, {})\n\n      return h(VDataTableBody, propsData, content)\n    }\n\n    function genTableFooter(): VNode {\n      const propsData = {\n        pages: pages.value,\n        page: data.page,\n        firstOnPage: firstOnPage.value,\n        lastOnPage: lastOnPage.value,\n        pageCorrection: pageCorrection.value,\n        rowsOnPage: data.rowsOnPage,\n        rowsLength: data.rows?.length,\n        dark: props.dark,\n        options: footerOptions.value,\n        onPrevPage,\n        onNextPage,\n        onSelectRowsCount,\n        onLastPage: () => emit('last-page', props.rows.length),\n        onCorrectPage: (val) => (data.page += val)\n      }\n\n      const content = slots.paginationText\n        ? {\n          paginationText: () =>\n            slots.paginationText &&\n            slots.paginationText({\n              start: firstOnPage.value,\n              last: lastOnPage.value,\n              length: data.rows?.length\n            })\n        }\n        : ''\n\n      return h(VDataTableFooter, propsData, content)\n    }\n\n    function genTableInner(): VNode {\n      const propsData = {\n        class: 'v-data-table__inner'\n      }\n\n      return h('div', propsData, [genTableHeader(), genTableBody()])\n    }\n\n    return () => {\n      const propsData = {\n        class: classes.value\n      }\n\n      return h('div', setBackground(props.color, propsData), [\n        slots.toolbar && genTableTools(),\n        genTableInner(),\n        genTableFooter()\n      ])\n    }\n  }\n})\n"],"sourceRoot":"","file":"VDataTable.js"}