import { defineComponent, h, ref, computed } from 'vue';
import { useColors, colorProps } from '../../composables/use-colors';
import { convertToUnit } from '../../helpers';
export default defineComponent({
    name: 'v-navigation',
    props: {
        fixed: Boolean,
        right: Boolean,
        left: Boolean,
        onHover: Boolean,
        miniVariant: Boolean,
        expand: Boolean,
        offsetTop: {
            type: [String, Number],
            default: 0,
        },
        miniVariantWidth: {
            type: [String, Number],
            default: 56,
        },
        maxVariantWidth: {
            type: [String, Number],
            default: 237,
        },
        ...colorProps(),
    },
    emits: ['update:expand'],
    setup(props, { slots, emit }) {
        const { setBackgroundClassNameColor, setBackgroundCssColor } = useColors();
        const isHovered = ref(false);
        const isExpanded = computed(() => {
            if (props.onHover && isHovered.value)
                return true;
            if (props.expand)
                return true;
            if (!props.expand && props.miniVariant)
                return false;
            if (!props.expand && !props.miniVariant)
                return false;
            return !props.miniVariant;
        });
        const computedWidth = computed(() => {
            if (!isExpanded.value)
                return props.miniVariantWidth;
            return props.maxVariantWidth;
        });
        const classes = computed(() => ({
            'v-navigation': true,
            'v-navigation--expanded': isExpanded.value,
            'v-navigation--fixed': props.fixed,
            'v-navigation--base': !props.color,
            ...(props.color ? setBackgroundClassNameColor(props.color) : {}),
        }));
        const styles = computed(() => ({
            width: convertToUnit(computedWidth.value),
            maxHeight: `calc(100vh - ${convertToUnit(props.offsetTop)})`,
            top: props.fixed ? convertToUnit(props.offsetTop) : '',
            left: !props.right && props.fixed ? convertToUnit(0) : '',
            right: props.right && props.fixed ? convertToUnit(0) : '',
            ...(props.color ? setBackgroundCssColor(props.color) : {}),
        }));
        const genNavigationContent = () => {
            return h('div', {
                class: 'v-navigation__content',
            }, {
                default: () => slots.default?.(),
            });
        };
        const onMouseenter = () => {
            if (!props.onHover || props.miniVariant) {
                return;
            }
            isHovered.value = true;
            emit('update:expand', true);
        };
        const onMouseleave = () => {
            if (!props.onHover || props.miniVariant) {
                return;
            }
            isHovered.value = false;
            emit('update:expand', false);
        };
        return () => h('aside', {
            class: classes.value,
            style: styles.value,
            onMouseenter,
            onMouseleave,
        }, genNavigationContent());
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVk5hdmlnYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WTmF2aWdhdGlvbi9WTmF2aWdhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFTLE1BQU0sS0FBSyxDQUFBO0FBRTlELE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLE1BQU0sOEJBQThCLENBQUE7QUFFcEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGVBQWUsQ0FBQTtBQUU3QyxlQUFlLGVBQWUsQ0FBQztJQUM3QixJQUFJLEVBQUUsY0FBYztJQUNwQixLQUFLLEVBQUU7UUFDTCxLQUFLLEVBQUUsT0FBTztRQUNkLEtBQUssRUFBRSxPQUFPO1FBQ2QsSUFBSSxFQUFFLE9BQU87UUFDYixPQUFPLEVBQUUsT0FBTztRQUNoQixXQUFXLEVBQUUsT0FBTztRQUNwQixNQUFNLEVBQUUsT0FBTztRQUNmLFNBQVMsRUFBRTtZQUNULElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7WUFDdEIsT0FBTyxFQUFFLENBQUM7U0FDWDtRQUNELGdCQUFnQixFQUFFO1lBQ2hCLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7WUFDdEIsT0FBTyxFQUFFLEVBQUU7U0FDWjtRQUNELGVBQWUsRUFBRTtZQUNmLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7WUFDdEIsT0FBTyxFQUFFLEdBQUc7U0FDYjtRQUNELEdBQUcsVUFBVSxFQUFFO0tBQ2hCO0lBQ0QsS0FBSyxFQUFFLENBQUMsZUFBZSxDQUFDO0lBRXhCLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO1FBQzFCLE1BQU0sRUFBRSwyQkFBMkIsRUFBRSxxQkFBcUIsRUFBRSxHQUFHLFNBQVMsRUFBRSxDQUFB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RUFBRSxJQUFJLENBQUMsQ0FBQTtRQUM3QixDQUFDLENBQUE7UUFFRCxNQUFNLFlBQVksR0FBRyxHQUFHLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRTtnQkFDdkMsT0FBTTthQUNQO1lBRUQsU0FBUyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7WUFDdkIsSUFBSSxDQUFDLGVBQWUsRUFBRSxLQUFLLENBQUMsQ0FBQTtRQUM5QixDQUFDLENBQUE7UUFFRCxPQUFPLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUU7WUFDdEIsS0FBSyxFQUFFLE9BQU8sQ0FBQyxLQUFLO1lBQ3BCLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSztZQUNuQixZQUFZO1lBQ1osWUFBWTtTQUNiLEVBQUUsb0JBQW9CLEVBQUUsQ0FBQyxDQUFBO0lBQzVCLENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIGgsIHJlZiwgY29tcHV0ZWQsIFZOb2RlIH0gZnJvbSAndnVlJ1xuLy8gQ29tcG9zYWJsZXNcbmltcG9ydCB7IHVzZUNvbG9ycywgY29sb3JQcm9wcyB9IGZyb20gJy4uLy4uL2NvbXBvc2FibGVzL3VzZS1jb2xvcnMnXG4vLyBIZWxwZXJzXG5pbXBvcnQgeyBjb252ZXJ0VG9Vbml0IH0gZnJvbSAnLi4vLi4vaGVscGVycydcblxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgbmFtZTogJ3YtbmF2aWdhdGlvbicsXG4gIHByb3BzOiB7XG4gICAgZml4ZWQ6IEJvb2xlYW4sXG4gICAgcmlnaHQ6IEJvb2xlYW4sXG4gICAgbGVmdDogQm9vbGVhbixcbiAgICBvbkhvdmVyOiBCb29sZWFuLFxuICAgIG1pbmlWYXJpYW50OiBCb29sZWFuLFxuICAgIGV4cGFuZDogQm9vbGVhbixcbiAgICBvZmZzZXRUb3A6IHtcbiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICBkZWZhdWx0OiAwLFxuICAgIH0sXG4gICAgbWluaVZhcmlhbnRXaWR0aDoge1xuICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSxcbiAgICAgIGRlZmF1bHQ6IDU2LFxuICAgIH0sXG4gICAgbWF4VmFyaWFudFdpZHRoOiB7XG4gICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLFxuICAgICAgZGVmYXVsdDogMjM3LFxuICAgIH0sXG4gICAgLi4uY29sb3JQcm9wcygpLFxuICB9LFxuICBlbWl0czogWyd1cGRhdGU6ZXhwYW5kJ10sXG5cbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMsIGVtaXQgfSk6ICgpID0+IFZOb2RlIHtcbiAgICBjb25zdCB7IHNldEJhY2tncm91bmRDbGFzc05hbWVDb2xvciwgc2V0QmFja2dyb3VuZENzc0NvbG9yIH0gPSB1c2VDb2xvcnMoKVxuICAgIGNvbnN0IGlzSG92ZXJlZCA9IHJlZjxib29sZWFuPihmYWxzZSlcblxuICAgIGNvbnN0IGlzRXhwYW5kZWQgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAocHJvcHMub25Ib3ZlciAmJiBpc0hvdmVyZWQudmFsdWUpIHJldHVybiB0cnVlXG4gICAgICBpZiAocHJvcHMuZXhwYW5kKSByZXR1cm4gdHJ1ZVxuICAgICAgaWYgKCFwcm9wcy5leHBhbmQgJiYgcHJvcHMubWluaVZhcmlhbnQpIHJldHVybiBmYWxzZVxuICAgICAgaWYgKCFwcm9wcy5leHBhbmQgJiYgIXByb3BzLm1pbmlWYXJpYW50KSByZXR1cm4gZmFsc2VcbiAgICAgIHJldHVybiAhcHJvcHMubWluaVZhcmlhbnRcbiAgICB9KVxuXG4gICAgY29uc3QgY29tcHV0ZWRXaWR0aCA9IGNvbXB1dGVkPG51bWJlciB8IHN0cmluZz4oKCkgPT4ge1xuICAgICAgaWYgKCFpc0V4cGFuZGVkLnZhbHVlKSByZXR1cm4gcHJvcHMubWluaVZhcmlhbnRXaWR0aFxuICAgICAgcmV0dXJuIHByb3BzLm1heFZhcmlhbnRXaWR0aFxuICAgIH0pXG5cbiAgICBjb25zdCBjbGFzc2VzID0gY29tcHV0ZWQ8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+KCgpID0+ICh7XG4gICAgICAndi1uYXZpZ2F0aW9uJzogdHJ1ZSxcbiAgICAgICd2LW5hdmlnYXRpb24tLWV4cGFuZGVkJzogaXNFeHBhbmRlZC52YWx1ZSxcbiAgICAgICd2LW5hdmlnYXRpb24tLWZpeGVkJzogcHJvcHMuZml4ZWQsXG4gICAgICAndi1uYXZpZ2F0aW9uLS1iYXNlJzogIXByb3BzLmNvbG9yLFxuICAgICAgLi4uKHByb3BzLmNvbG9yID8gc2V0QmFja2dyb3VuZENsYXNzTmFtZUNvbG9yKHByb3BzLmNvbG9yKSA6IHt9KSxcbiAgICB9KSlcblxuICAgIGNvbnN0IHN0eWxlcyA9IGNvbXB1dGVkPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KCgpID0+ICh7XG4gICAgICB3aWR0aDogY29udmVydFRvVW5pdChjb21wdXRlZFdpZHRoLnZhbHVlKSxcbiAgICAgIG1heEhlaWdodDogYGNhbGMoMTAwdmggLSAkeyBjb252ZXJ0VG9Vbml0KHByb3BzLm9mZnNldFRvcCkgfSlgLFxuICAgICAgdG9wOiBwcm9wcy5maXhlZCA/IGNvbnZlcnRUb1VuaXQocHJvcHMub2Zmc2V0VG9wKSA6ICcnLFxuICAgICAgbGVmdDogIXByb3BzLnJpZ2h0ICYmIHByb3BzLmZpeGVkID8gY29udmVydFRvVW5pdCgwKSA6ICcnLFxuICAgICAgcmlnaHQ6IHByb3BzLnJpZ2h0ICYmIHByb3BzLmZpeGVkID8gY29udmVydFRvVW5pdCgwKSA6ICcnLFxuICAgICAgLi4uKHByb3BzLmNvbG9yID8gc2V0QmFja2dyb3VuZENzc0NvbG9yKHByb3BzLmNvbG9yKSA6IHt9KSxcbiAgICB9KSlcblxuICAgIGNvbnN0IGdlbk5hdmlnYXRpb25Db250ZW50ID0gKCk6IFZOb2RlID0+IHtcbiAgICAgIHJldHVybiBoKCdkaXYnLCB7XG4gICAgICAgIGNsYXNzOiAndi1uYXZpZ2F0aW9uX19jb250ZW50JyxcbiAgICAgIH0sIHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gc2xvdHMuZGVmYXVsdD8uKCksXG4gICAgICB9KVxuICAgIH1cblxuICAgIGNvbnN0IG9uTW91c2VlbnRlciA9ICgpID0+IHtcbiAgICAgIGlmICghcHJvcHMub25Ib3ZlciB8fCBwcm9wcy5taW5pVmFyaWFudCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgaXNIb3ZlcmVkLnZhbHVlID0gdHJ1ZVxuICAgICAgZW1pdCgndXBkYXRlOmV4cGFuZCcsIHRydWUpXG4gICAgfVxuXG4gICAgY29uc3Qgb25Nb3VzZWxlYXZlID0gKCkgPT4ge1xuICAgICAgaWYgKCFwcm9wcy5vbkhvdmVyIHx8IHByb3BzLm1pbmlWYXJpYW50KSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICBpc0hvdmVyZWQudmFsdWUgPSBmYWxzZVxuICAgICAgZW1pdCgndXBkYXRlOmV4cGFuZCcsIGZhbHNlKVxuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiBoKCdhc2lkZScsIHtcbiAgICAgIGNsYXNzOiBjbGFzc2VzLnZhbHVlLFxuICAgICAgc3R5bGU6IHN0eWxlcy52YWx1ZSxcbiAgICAgIG9uTW91c2VlbnRlcixcbiAgICAgIG9uTW91c2VsZWF2ZSxcbiAgICB9LCBnZW5OYXZpZ2F0aW9uQ29udGVudCgpKVxuICB9LFxufSlcbiJdfQ==