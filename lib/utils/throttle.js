export const throttle = (fn, timeout) => {
    let lastThis = null;
    let lastArgs = null;
    let isThrottled = false;
    function wrapper(...args) {
        if (isThrottled) {
            lastThis = this;
            lastArgs = args;
            return;
        }
        lastArgs && fn.call(lastThis, ...lastArgs);
        isThrottled = true;
        setTimeout(() => {
            isThrottled = false;
            if (lastArgs) {
                wrapper.apply(lastThis, lastArgs);
            }
            lastThis = null;
            lastArgs = null;
        }, timeout);
    }
    return wrapper;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhyb3R0bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdXRpbHMvdGhyb3R0bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsRUFBWSxFQUFFLE9BQWUsRUFBWSxFQUFFO0lBQ2xFLElBQUksUUFBUSxHQUFRLElBQUksQ0FBQTtJQUN4QixJQUFJLFFBQVEsR0FBUSxJQUFJLENBQUE7SUFDeEIsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFBO0lBRXZCLFNBQVMsT0FBTyxDQUFDLEdBQUcsSUFBSTtRQUN0QixJQUFJLFdBQVcsRUFBRTtZQUVmLFFBQVEsR0FBRyxJQUFJLENBQUE7WUFDZixRQUFRLEdBQUcsSUFBSSxDQUFBO1lBRWYsT0FBTTtTQUNQO1FBRUQsUUFBUSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUE7UUFFMUMsV0FBVyxHQUFHLElBQUksQ0FBQTtRQUVsQixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsV0FBVyxHQUFHLEtBQUssQ0FBQTtZQUVuQixJQUFJLFFBQVEsRUFBRTtnQkFDWixPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQTthQUNsQztZQUNELFFBQVEsR0FBRyxJQUFJLENBQUE7WUFDZixRQUFRLEdBQUcsSUFBSSxDQUFBO1FBQ2pCLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQTtJQUNiLENBQUM7SUFFRCxPQUFPLE9BQU8sQ0FBQTtBQUNoQixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdGhyb3R0bGUgPSAoZm46IEZ1bmN0aW9uLCB0aW1lb3V0OiBudW1iZXIpOiBGdW5jdGlvbiA9PiB7XG4gIGxldCBsYXN0VGhpczogYW55ID0gbnVsbFxuICBsZXQgbGFzdEFyZ3M6IGFueSA9IG51bGxcbiAgbGV0IGlzVGhyb3R0bGVkID0gZmFsc2VcblxuICBmdW5jdGlvbiB3cmFwcGVyKC4uLmFyZ3MpIHtcbiAgICBpZiAoaXNUaHJvdHRsZWQpIHtcblxuICAgICAgbGFzdFRoaXMgPSB0aGlzXG4gICAgICBsYXN0QXJncyA9IGFyZ3NcblxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgbGFzdEFyZ3MgJiYgZm4uY2FsbChsYXN0VGhpcywgLi4ubGFzdEFyZ3MpXG5cbiAgICBpc1Rocm90dGxlZCA9IHRydWVcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaXNUaHJvdHRsZWQgPSBmYWxzZVxuXG4gICAgICBpZiAobGFzdEFyZ3MpIHtcbiAgICAgICAgd3JhcHBlci5hcHBseShsYXN0VGhpcywgbGFzdEFyZ3MpXG4gICAgICB9XG4gICAgICBsYXN0VGhpcyA9IG51bGxcbiAgICAgIGxhc3RBcmdzID0gbnVsbFxuICAgIH0sIHRpbWVvdXQpXG4gIH1cblxuICByZXR1cm4gd3JhcHBlclxufVxuIl19