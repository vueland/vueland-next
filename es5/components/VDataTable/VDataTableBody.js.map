{"version":3,"sources":["../../../../src/components/VDataTable/VDataTableBody.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VDataTableBody.scss'\n\n// Vue API\nimport { h, ref, watch, computed, defineComponent } from 'vue'\n\n// Effects\nimport { colorProps, useColors } from '../../effects/use-colors'\n\n// Components\nimport { VDataTableCell } from './VDataTableCell'\nimport { VCheckbox } from '../VCheckbox'\n\n// Types\nimport { VNode } from 'vue'\n\nexport const VDataTableBody = defineComponent({\n  name: 'v-data-table-body',\n\n  props: {\n    dark: Boolean,\n    numbered: Boolean,\n    checkbox: Boolean,\n    checkAllRows: Boolean,\n    cols: Array,\n    rows: Array,\n    align: String,\n    colWidth: {\n      type: [String, Number],\n      default: 125,\n    },\n    bodyHeight: {},\n    page: Number,\n    rowsPerPage: Number,\n    ...colorProps(),\n  } as any,\n\n  setup(props, { slots, emit }) {\n    const checkedRows = ref([])\n\n    const { setBackground } = useColors()\n\n    const classes = computed<Record<string, boolean>>(() => ({\n      'v-data-table__body': true,\n    }))\n\n\n    const rowsOnTable = computed(() => {\n      return props.rows?.slice(\n        (props.page - 1) * props.rowsPerPage,\n        props.page * props.rowsPerPage,\n      )\n    })\n\n    watch(() => props.checkAllRows, to => {\n      if (to) onCheckRows(props.rows)\n      else onCheckRows([])\n    })\n\n    function onCheckRows(rows) {\n      checkedRows.value = rows\n      emit('check', checkedRows.value)\n    }\n\n    function genTableRow(cells) {\n      return h('div', {\n        class: {\n          'v-data-table__row': true,\n        },\n      }, cells)\n    }\n\n    function genTableRows() {\n      const tableRows: VNode[] = []\n\n      const rowsLength = rowsOnTable.value?.length\n      const colsLength = props.cols.length\n\n      let rowCells: VNode[] = []\n      let count = (props.page - 1) * props.rowsPerPage\n\n      for (let i = 0; i < rowsLength; i += 1) {\n\n        props.numbered && rowCells.push(\n          h(VDataTableCell, {\n              width: 50,\n              align: 'center',\n              dark: props.dark,\n              color: props.color,\n              class: 'v-data-table__row-number',\n            },\n            {\n              default: () => count += 1,\n            },\n          ),\n        )\n\n        props.checkbox && rowCells.push(\n          h(VDataTableCell, {\n              width: 50,\n              align: 'center',\n              dark: props.dark,\n              color: props.color,\n              class: 'v-data-table__row-checkbox',\n            }, {\n              default: () => h(VCheckbox, {\n                modelValue: checkedRows.value,\n                color: props.dark ? 'white' : '',\n                value: props.rows[i],\n                ['onUpdate:modelValue']: onCheckRows,\n              }),\n            },\n          ),\n        )\n\n        for (let j = 0; j < colsLength; j += 1) {\n          const { format } = props.cols[j]\n\n          const slotContent = slots[props.cols[j].key] &&\n            slots[props.cols[j].key]!(rowsOnTable.value[i])\n\n\n          props.cols[j].show && rowCells.push(\n            h(VDataTableCell, {\n              width: props.cols[j].width,\n              align: props.align || props.cols[j].align,\n              dark: props.dark,\n            }, {\n              default: () => slotContent ? slotContent : format ?\n                format(rowsOnTable.value[i]) :\n                String(rowsOnTable.value[i][props.cols[j].key]),\n            }))\n        }\n\n        tableRows.push(genTableRow(rowCells))\n\n        rowCells = []\n      }\n\n      return tableRows\n    }\n\n    return () => {\n      const propsData = {\n        class: classes.value,\n      }\n\n      return h('div',\n        props.color ? setBackground(props.color, propsData) : propsData,\n        genTableRows(),\n      )\n    }\n  },\n})\n"],"sourceRoot":"","file":"VDataTableBody.js"}