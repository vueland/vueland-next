export const throttle = (fn, timeout) => {
    let lastThis = null;
    let lastArgs = null;
    let isThrottled = false;
    function wrapper(...args) {
        if (isThrottled) {
            lastThis = this;
            lastArgs = args;
            return;
        }
        lastArgs && fn.call(lastThis, ...lastArgs);
        isThrottled = true;
        setTimeout(() => {
            isThrottled = false;
            if (lastArgs) {
                wrapper.apply(lastThis, lastArgs);
            }
            lastThis = null;
            lastArgs = null;
        }, timeout);
    }
    return wrapper;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhyb3R0bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvdXRpbHMvdGhyb3R0bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsRUFBWSxFQUFFLE9BQWUsRUFBWSxFQUFFO0lBQ2xFLElBQUksUUFBUSxHQUFRLElBQUksQ0FBQTtJQUN4QixJQUFJLFFBQVEsR0FBUSxJQUFJLENBQUE7SUFDeEIsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFBO0lBRXZCLFNBQVMsT0FBTyxDQUFDLEdBQUcsSUFBSTtRQUN0QixJQUFJLFdBQVcsRUFBRTtZQUVmLFFBQVEsR0FBRyxJQUFJLENBQUE7WUFDZixRQUFRLEdBQUcsSUFBSSxDQUFBO1lBQ2YsT0FBTTtTQUNQO1FBRUQsUUFBUSxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUE7UUFFMUMsV0FBVyxHQUFHLElBQUksQ0FBQTtRQUVsQixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsV0FBVyxHQUFHLEtBQUssQ0FBQTtZQUVuQixJQUFJLFFBQVEsRUFBRTtnQkFDWixPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQTthQUNsQztZQUNELFFBQVEsR0FBRyxJQUFJLENBQUE7WUFDZixRQUFRLEdBQUcsSUFBSSxDQUFBO1FBQ2pCLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQTtJQUNiLENBQUM7SUFFRCxPQUFPLE9BQU8sQ0FBQTtBQUNoQixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdGhyb3R0bGUgPSAoZm46IEZ1bmN0aW9uLCB0aW1lb3V0OiBudW1iZXIpOiBGdW5jdGlvbiA9PiB7XG4gIGxldCBsYXN0VGhpczogYW55ID0gbnVsbFxuICBsZXQgbGFzdEFyZ3M6IGFueSA9IG51bGxcbiAgbGV0IGlzVGhyb3R0bGVkID0gZmFsc2VcblxuICBmdW5jdGlvbiB3cmFwcGVyKC4uLmFyZ3MpIHtcbiAgICBpZiAoaXNUaHJvdHRsZWQpIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGxhc3RUaGlzID0gdGhpc1xuICAgICAgbGFzdEFyZ3MgPSBhcmdzXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBsYXN0QXJncyAmJiBmbi5jYWxsKGxhc3RUaGlzLCAuLi5sYXN0QXJncylcblxuICAgIGlzVGhyb3R0bGVkID0gdHJ1ZVxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpc1Rocm90dGxlZCA9IGZhbHNlXG5cbiAgICAgIGlmIChsYXN0QXJncykge1xuICAgICAgICB3cmFwcGVyLmFwcGx5KGxhc3RUaGlzLCBsYXN0QXJncylcbiAgICAgIH1cbiAgICAgIGxhc3RUaGlzID0gbnVsbFxuICAgICAgbGFzdEFyZ3MgPSBudWxsXG4gICAgfSwgdGltZW91dClcbiAgfVxuXG4gIHJldHVybiB3cmFwcGVyXG59XG4iXX0=