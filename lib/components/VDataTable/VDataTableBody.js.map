{"version":3,"sources":["../../../../src/components/VDataTable/VDataTableBody.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VDataTableBody.scss'\n\n// Vue API\nimport { h, ref, watch, computed, defineComponent } from 'vue'\n\n// Effects\nimport { colorProps, useColors } from '../../effects/use-colors'\n\n// Components\nimport { VDataTableCell } from './VDataTableCell'\nimport { VCheckbox } from '../VCheckbox'\n\n// Types\nimport { VNode } from 'vue'\n\nexport const VDataTableBody = defineComponent({\n  name: 'v-data-table-body',\n\n  props: {\n    dark: Boolean,\n    numbered: Boolean,\n    checkbox: Boolean,\n    checkAllRows: Boolean,\n    cols: Array,\n    rows: Array,\n    align: String,\n    colWidth: {\n      type: [String, Number],\n      default: 125,\n    },\n    bodyHeight: {},\n    page: Number,\n    rowsPerPage: Number,\n    ...colorProps(),\n  } as any,\n\n  setup(props, { slots, emit }) {\n    const checkedRows = ref([])\n\n    const { setBackground } = useColors()\n\n    const classes = computed<Record<string, boolean>>(() => ({\n      'v-data-table__body': true,\n    }))\n\n    const rowsOnTable = computed(() => {\n      return props.rows?.slice(\n        (props.page - 1) * props.rowsPerPage,\n        props.page * props.rowsPerPage,\n      )\n    })\n\n    watch(\n      () => props.checkAllRows,\n      to => {\n        if (to) onCheckRows(props.rows)\n        else onCheckRows([])\n      },\n    )\n\n    function onCheckRows(rows) {\n      checkedRows.value = rows\n      emit('check', checkedRows.value)\n    }\n\n    function genTableRow(cells) {\n      return h(\n        'div',\n        {\n          class: {\n            'v-data-table__row': true,\n          },\n        },\n        cells,\n      )\n    }\n\n    function genTableRows() {\n      const tableRows: VNode[] = []\n\n      const rowsLength = rowsOnTable.value?.length\n      const colsLength = props.cols.length\n\n      let rowCells: VNode[] = []\n      let count = (props.page - 1) * props.rowsPerPage\n\n      for (let i = 0; i < rowsLength; i += 1) {\n        props.numbered &&\n          rowCells.push(\n            h(\n              VDataTableCell,\n              {\n                width: 50,\n                align: 'center',\n                dark: props.dark,\n                color: props.color,\n                class: 'v-data-table__row-number',\n              },\n              {\n                default: () => (count += 1),\n              },\n            ),\n          )\n\n        props.checkbox &&\n          rowCells.push(\n            h(\n              VDataTableCell,\n              {\n                width: 50,\n                align: 'center',\n                dark: props.dark,\n                color: props.color,\n                class: 'v-data-table__row-checkbox',\n              },\n              {\n                default: () =>\n                  h(VCheckbox, {\n                    modelValue: checkedRows.value,\n                    color: props.dark ? 'white' : '',\n                    value: props.rows[i],\n                    ['onUpdate:modelValue']: onCheckRows,\n                  }),\n              },\n            ),\n          )\n\n        for (let j = 0; j < colsLength; j += 1) {\n          const { format } = props.cols[j]\n\n          const slotContent =\n            slots[props.cols[j].key] &&\n            slots[props.cols[j].key]!(rowsOnTable.value[i])\n\n          props.cols[j].show &&\n            rowCells.push(\n              h(\n                VDataTableCell,\n                {\n                  width: props.cols[j].width,\n                  align: props.align || props.cols[j].align,\n                  dark: props.dark,\n                },\n                {\n                  default: () =>\n                    slotContent\n                      ? slotContent\n                      : format\n                      ? format(rowsOnTable.value[i])\n                      : String(rowsOnTable.value[i][props.cols[j].key]),\n                },\n              ),\n            )\n        }\n\n        tableRows.push(genTableRow(rowCells))\n\n        rowCells = []\n      }\n\n      return tableRows\n    }\n\n    return () => {\n      const propsData = {\n        class: classes.value,\n      }\n\n      return h(\n        'div',\n        props.color ? setBackground(props.color, propsData) : propsData,\n        genTableRows(),\n      )\n    }\n  },\n})\n"],"sourceRoot":"","file":"VDataTableBody.js"}