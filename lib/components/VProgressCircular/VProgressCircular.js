import { h, computed, defineComponent } from 'vue';
import { colorProps, useColors } from '../../composables/use-colors';
import { convertToUnit } from '../../helpers';
export default defineComponent({
    name: 'v-progress-circular',
    props: {
        indeterminate: Boolean,
        size: {
            type: [Number, String],
            default: 32,
        },
        width: {
            type: [Number, String],
            default: 4,
        },
        value: {
            type: [Number, String],
            default: 0,
        },
        rotate: {
            type: [Number, String],
            default: 0,
        },
        ...colorProps(),
    },
    setup(props, { slots }) {
        const radius = 20;
        const { setTextClassNameColor, setTextCssColor } = useColors();
        const normalizedValue = computed(() => {
            if (props.value < 0)
                return 0;
            if (props.value > 100)
                return 100;
            return parseFloat(props.value);
        });
        const classes = computed(() => ({
            'v-progress-circular': true,
            'v-progress-circular--indeterminate': props.indeterminate,
            ...(props.color ? setTextClassNameColor(props.color) : {}),
        }));
        const circumference = computed(() => {
            return 2 * Math.PI * radius;
        });
        const strokeDashArray = computed(() => {
            return Math.round(circumference.value * 1000) / 1000;
        });
        const strokeDashOffset = computed(() => {
            return ((100 - normalizedValue.value) / 100) * circumference.value + 'px';
        });
        const viewBoxSize = computed(() => {
            return radius / (1 - Number(props.width) / +props.size);
        });
        const strokeWidth = computed(() => {
            return (Number(props.width) / +props.size) * viewBoxSize.value * 2;
        });
        const styles = computed(() => ({
            width: convertToUnit(props.size),
            height: convertToUnit(props.size),
            ...(props.color ? setTextCssColor(props.color) : {}),
        }));
        const svgStyle = computed(() => {
            return {
                transform: `rotate(${+props.rotate}deg)`,
            };
        });
        function genCircle(name, offset) {
            return h('circle', {
                class: `v-progress-circular__${name}`,
                fill: 'transparent',
                cx: 2 * viewBoxSize.value,
                cy: 2 * viewBoxSize.value,
                r: radius,
                'stroke-width': strokeWidth.value,
                'stroke-dasharray': strokeDashArray.value,
                'stroke-dashoffset': offset,
            });
        }
        const genSvg = () => {
            const children = [
                props.indeterminate || genCircle('underlay', 0),
                genCircle('overlay', strokeDashOffset.value),
            ];
            const propsData = {
                xmlns: 'http://www.w3.org/2000/svg',
                viewBox: `${viewBoxSize.value} ${viewBoxSize.value} ${2 * viewBoxSize.value} ${2 * viewBoxSize.value}`,
                style: svgStyle.value,
            };
            return h('svg', propsData, children);
        };
        const genInfo = () => {
            const propsData = {
                class: 'v-progress-circular__info',
            };
            return h('div', propsData, slots.default && slots.default());
        };
        return () => {
            const propsData = {
                class: classes.value,
                style: styles.value,
            };
            return h('div', propsData, [genSvg(), genInfo()]);
        };
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVlByb2dyZXNzQ2lyY3VsYXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy92dWVsYW5kL3NyYy9jb21wb25lbnRzL1ZQcm9ncmVzc0NpcmN1bGFyL1ZQcm9ncmVzc0NpcmN1bGFyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxDQUFDLEVBQUUsUUFBUSxFQUFFLGVBQWUsRUFBRSxNQUFNLEtBQUssQ0FBQTtBQUdsRCxPQUFPLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLDhCQUE4QixDQUFBO0FBSXBFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxlQUFlLENBQUE7QUFFN0MsZUFBZSxlQUFlLENBQUM7SUFDN0IsSUFBSSxFQUFFLHFCQUFxQjtJQUMzQixLQUFLLEVBQUU7UUFDTCxhQUFhLEVBQUUsT0FBTztRQUN0QixJQUFJLEVBQUU7WUFDSixJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQ3RCLE9BQU8sRUFBRSxFQUFFO1NBQ1o7UUFDRCxLQUFLLEVBQUU7WUFDTCxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQ3RCLE9BQU8sRUFBRSxDQUFDO1NBQ1g7UUFDRCxLQUFLLEVBQUU7WUFDTCxJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQ3RCLE9BQU8sRUFBRSxDQUFDO1NBQ1g7UUFDRCxNQUFNLEVBQUU7WUFDTixJQUFJLEVBQUUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDO1lBQ3RCLE9BQU8sRUFBRSxDQUFDO1NBQ1g7UUFDRCxHQUFHLFVBQVUsRUFBRTtLQUNoQjtJQUNELEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUU7UUFDcEIsTUFBTSxNQUFNLEdBQUcsRUFBRSxDQUFBO1FBRWpCLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxlQUFlLEVBQUUsR0FBRyxTQUFTLEVBQUUsQ0FBQTtRQUU5RCxNQUFNLGVBQWUsR0FBRyxRQUFRLENBQVMsR0FBRyxFQUFFO1lBQzVDLElBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDO2dCQUFFLE9BQU8sQ0FBQyxDQUFBO1lBRTdCLElBQUksS0FBSyxDQUFDLEtBQUssR0FBRyxHQUFHO2dCQUFFLE9BQU8sR0FBRyxDQUFBO1lBRWpDLE9BQU8sVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFlLENBQUMsQ0FBQTtRQUMxQyxDQUFDLENBQUMsQ0FBQTtRQUVGLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBMEIsR0FBRyxFQUFFLENBQUMsQ0FBQztZQUN2RCxxQkFBcUIsRUFBRSxJQUFJO1lBQzNCLG9DQUFvQyxFQUFFLEtBQUssQ0FBQyxhQUFhO1lBQ3pELEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUMzRCxDQUFDLENBQUMsQ0FBQTtRQUVILE1BQU0sYUFBYSxHQUFHLFFBQVEsQ0FBUyxHQUFHLEVBQUU7WUFDMUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxNQUFNLENBQUE7UUFDN0IsQ0FBQyxDQUFDLENBQUE7UUFFRixNQUFNLGVBQWUsR0FBRyxRQUFRLENBQVMsR0FBRyxFQUFFO1lBQzVDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQTtRQUN0RCxDQUFDLENBQUMsQ0FBQTtRQUVGLE1BQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFTLEdBQUcsRUFBRTtZQUM3QyxPQUFPLENBQUMsQ0FBQyxHQUFHLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFBO1FBQzNFLENBQUMsQ0FBQyxDQUFBO1FBRUYsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFTLEdBQUcsRUFBRTtZQUN4QyxPQUFPLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFBO1FBQ3pELENBQUMsQ0FBQyxDQUFBO1FBRUYsTUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFTLEdBQUcsRUFBRTtZQUN4QyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQTtRQUNwRSxDQUFDLENBQUMsQ0FBQTtRQUVGLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBUyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1lBQ3JDLEtBQUssRUFBRSxhQUFhLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztZQUNoQyxNQUFNLEVBQUUsYUFBYSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7WUFDakMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUNyRCxDQUFDLENBQUMsQ0FBQTtRQUVILE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxHQUFHLEVBQUU7WUFDN0IsT0FBTztnQkFDTCxTQUFTLEVBQUUsVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLE1BQU07YUFDekMsQ0FBQTtRQUNILENBQUMsQ0FBQyxDQUFBO1FBRUYsU0FBUyxTQUFTLENBQUMsSUFBWSxFQUFFLE1BQXVCO1lBQ3RELE9BQU8sQ0FBQyxDQUFDLFFBQVEsRUFBRTtnQkFDakIsS0FBSyxFQUFFLHdCQUF3QixJQUFJLEVBQUU7Z0JBQ3JDLElBQUksRUFBRSxhQUFhO2dCQUNuQixFQUFFLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxLQUFLO2dCQUN6QixFQUFFLEVBQUUsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxLQUFLO2dCQUN6QixDQUFDLEVBQUUsTUFBTTtnQkFDVCxjQUFjLEVBQUUsV0FBVyxDQUFDLEtBQUs7Z0JBQ2pDLGtCQUFrQixFQUFFLGVBQWUsQ0FBQyxLQUFLO2dCQUN6QyxtQkFBbUIsRUFBRSxNQUFNO2FBQzVCLENBQUMsQ0FBQTtRQUNKLENBQUM7UUFFRCxNQUFNLE1BQU0sR0FBRyxHQUFHLEVBQUU7WUFDbEIsTUFBTSxRQUFRLEdBQUc7Z0JBQ2YsS0FBSyxDQUFDLGFBQWEsSUFBSSxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQztnQkFDL0MsU0FBUyxDQUFDLFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUM7YUFDN0MsQ0FBQTtZQUVELE1BQU0sU0FBUyxHQUFHO2dCQUNoQixLQUFLLEVBQUUsNEJBQTRCO2dCQUNuQyxPQUFPLEVBQUUsR0FBRyxXQUFXLENBQUMsS0FBSyxJQUFJLFdBQVcsQ0FBQyxLQUFLLElBQ2hELENBQUMsR0FBRyxXQUFXLENBQUMsS0FDbEIsSUFBSSxDQUFDLEdBQUcsV0FBVyxDQUFDLEtBQUssRUFBRTtnQkFFM0IsS0FBSyxFQUFFLFFBQVEsQ0FBQyxLQUFLO2FBQ3RCLENBQUE7WUFFRCxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFBO1FBQ3RDLENBQUMsQ0FBQTtRQUVELE1BQU0sT0FBTyxHQUFHLEdBQUcsRUFBRTtZQUNuQixNQUFNLFNBQVMsR0FBRztnQkFDaEIsS0FBSyxFQUFFLDJCQUEyQjthQUNuQyxDQUFBO1lBQ0QsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsT0FBTyxJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFBO1FBQzlELENBQUMsQ0FBQTtRQUVELE9BQU8sR0FBRyxFQUFFO1lBQ1YsTUFBTSxTQUFTLEdBQUc7Z0JBQ2hCLEtBQUssRUFBRSxPQUFPLENBQUMsS0FBSztnQkFDcEIsS0FBSyxFQUFFLE1BQU0sQ0FBQyxLQUFLO2FBQ3BCLENBQUE7WUFDRCxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQ25ELENBQUMsQ0FBQTtJQUNILENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoLCBjb21wdXRlZCwgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJ1xuXG4vLyBFZmZlY3RzXG5pbXBvcnQgeyBjb2xvclByb3BzLCB1c2VDb2xvcnMgfSBmcm9tICcuLi8uLi9jb21wb3NhYmxlcy91c2UtY29sb3JzJ1xuXG4vLyBUeXBlc1xuaW1wb3J0IHsgVk5vZGUgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyBjb252ZXJ0VG9Vbml0IH0gZnJvbSAnLi4vLi4vaGVscGVycydcblxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHtcbiAgbmFtZTogJ3YtcHJvZ3Jlc3MtY2lyY3VsYXInLFxuICBwcm9wczoge1xuICAgIGluZGV0ZXJtaW5hdGU6IEJvb2xlYW4sXG4gICAgc2l6ZToge1xuICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSxcbiAgICAgIGRlZmF1bHQ6IDMyLFxuICAgIH0sXG4gICAgd2lkdGg6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiA0LFxuICAgIH0sXG4gICAgdmFsdWU6IHtcbiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sXG4gICAgICBkZWZhdWx0OiAwLFxuICAgIH0sXG4gICAgcm90YXRlOiB7XG4gICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLFxuICAgICAgZGVmYXVsdDogMCxcbiAgICB9LFxuICAgIC4uLmNvbG9yUHJvcHMoKSxcbiAgfSxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IHJhZGl1cyA9IDIwXG5cbiAgICBjb25zdCB7IHNldFRleHRDbGFzc05hbWVDb2xvciwgc2V0VGV4dENzc0NvbG9yIH0gPSB1c2VDb2xvcnMoKVxuXG4gICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlID0gY29tcHV0ZWQ8bnVtYmVyPigoKSA9PiB7XG4gICAgICBpZiAocHJvcHMudmFsdWUgPCAwKSByZXR1cm4gMFxuXG4gICAgICBpZiAocHJvcHMudmFsdWUgPiAxMDApIHJldHVybiAxMDBcblxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocHJvcHMudmFsdWUgYXMgc3RyaW5nKVxuICAgIH0pXG5cbiAgICBjb25zdCBjbGFzc2VzID0gY29tcHV0ZWQ8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+KCgpID0+ICh7XG4gICAgICAndi1wcm9ncmVzcy1jaXJjdWxhcic6IHRydWUsXG4gICAgICAndi1wcm9ncmVzcy1jaXJjdWxhci0taW5kZXRlcm1pbmF0ZSc6IHByb3BzLmluZGV0ZXJtaW5hdGUsXG4gICAgICAuLi4ocHJvcHMuY29sb3IgPyBzZXRUZXh0Q2xhc3NOYW1lQ29sb3IocHJvcHMuY29sb3IpIDoge30pLFxuICAgIH0pKVxuXG4gICAgY29uc3QgY2lyY3VtZmVyZW5jZSA9IGNvbXB1dGVkPG51bWJlcj4oKCkgPT4ge1xuICAgICAgcmV0dXJuIDIgKiBNYXRoLlBJICogcmFkaXVzXG4gICAgfSlcblxuICAgIGNvbnN0IHN0cm9rZURhc2hBcnJheSA9IGNvbXB1dGVkPG51bWJlcj4oKCkgPT4ge1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQoY2lyY3VtZmVyZW5jZS52YWx1ZSAqIDEwMDApIC8gMTAwMFxuICAgIH0pXG5cbiAgICBjb25zdCBzdHJva2VEYXNoT2Zmc2V0ID0gY29tcHV0ZWQ8c3RyaW5nPigoKSA9PiB7XG4gICAgICByZXR1cm4gKCgxMDAgLSBub3JtYWxpemVkVmFsdWUudmFsdWUpIC8gMTAwKSAqIGNpcmN1bWZlcmVuY2UudmFsdWUgKyAncHgnXG4gICAgfSlcblxuICAgIGNvbnN0IHZpZXdCb3hTaXplID0gY29tcHV0ZWQ8bnVtYmVyPigoKSA9PiB7XG4gICAgICByZXR1cm4gcmFkaXVzIC8gKDEgLSBOdW1iZXIocHJvcHMud2lkdGgpIC8gK3Byb3BzLnNpemUpXG4gICAgfSlcblxuICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gY29tcHV0ZWQ8bnVtYmVyPigoKSA9PiB7XG4gICAgICByZXR1cm4gKE51bWJlcihwcm9wcy53aWR0aCkgLyArcHJvcHMuc2l6ZSkgKiB2aWV3Qm94U2l6ZS52YWx1ZSAqIDJcbiAgICB9KVxuXG4gICAgY29uc3Qgc3R5bGVzID0gY29tcHV0ZWQ8b2JqZWN0PigoKSA9PiAoe1xuICAgICAgd2lkdGg6IGNvbnZlcnRUb1VuaXQocHJvcHMuc2l6ZSksXG4gICAgICBoZWlnaHQ6IGNvbnZlcnRUb1VuaXQocHJvcHMuc2l6ZSksXG4gICAgICAuLi4ocHJvcHMuY29sb3IgPyBzZXRUZXh0Q3NzQ29sb3IocHJvcHMuY29sb3IpIDoge30pLFxuICAgIH0pKVxuXG4gICAgY29uc3Qgc3ZnU3R5bGUgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0cmFuc2Zvcm06IGByb3RhdGUoJHsrcHJvcHMucm90YXRlfWRlZylgLFxuICAgICAgfVxuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBnZW5DaXJjbGUobmFtZTogc3RyaW5nLCBvZmZzZXQ6IHN0cmluZyB8IG51bWJlcik6IFZOb2RlIHtcbiAgICAgIHJldHVybiBoKCdjaXJjbGUnLCB7XG4gICAgICAgIGNsYXNzOiBgdi1wcm9ncmVzcy1jaXJjdWxhcl9fJHtuYW1lfWAsXG4gICAgICAgIGZpbGw6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIGN4OiAyICogdmlld0JveFNpemUudmFsdWUsXG4gICAgICAgIGN5OiAyICogdmlld0JveFNpemUudmFsdWUsXG4gICAgICAgIHI6IHJhZGl1cyxcbiAgICAgICAgJ3N0cm9rZS13aWR0aCc6IHN0cm9rZVdpZHRoLnZhbHVlLFxuICAgICAgICAnc3Ryb2tlLWRhc2hhcnJheSc6IHN0cm9rZURhc2hBcnJheS52YWx1ZSxcbiAgICAgICAgJ3N0cm9rZS1kYXNob2Zmc2V0Jzogb2Zmc2V0LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBnZW5TdmcgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IFtcbiAgICAgICAgcHJvcHMuaW5kZXRlcm1pbmF0ZSB8fCBnZW5DaXJjbGUoJ3VuZGVybGF5JywgMCksXG4gICAgICAgIGdlbkNpcmNsZSgnb3ZlcmxheScsIHN0cm9rZURhc2hPZmZzZXQudmFsdWUpLFxuICAgICAgXVxuXG4gICAgICBjb25zdCBwcm9wc0RhdGEgPSB7XG4gICAgICAgIHhtbG5zOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLFxuICAgICAgICB2aWV3Qm94OiBgJHt2aWV3Qm94U2l6ZS52YWx1ZX0gJHt2aWV3Qm94U2l6ZS52YWx1ZX0gJHtcbiAgICAgICAgICAyICogdmlld0JveFNpemUudmFsdWVcbiAgICAgICAgfSAkezIgKiB2aWV3Qm94U2l6ZS52YWx1ZX1gLFxuXG4gICAgICAgIHN0eWxlOiBzdmdTdHlsZS52YWx1ZSxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGgoJ3N2ZycsIHByb3BzRGF0YSwgY2hpbGRyZW4pXG4gICAgfVxuXG4gICAgY29uc3QgZ2VuSW5mbyA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHByb3BzRGF0YSA9IHtcbiAgICAgICAgY2xhc3M6ICd2LXByb2dyZXNzLWNpcmN1bGFyX19pbmZvJyxcbiAgICAgIH1cbiAgICAgIHJldHVybiBoKCdkaXYnLCBwcm9wc0RhdGEsIHNsb3RzLmRlZmF1bHQgJiYgc2xvdHMuZGVmYXVsdCgpKVxuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9wc0RhdGEgPSB7XG4gICAgICAgIGNsYXNzOiBjbGFzc2VzLnZhbHVlLFxuICAgICAgICBzdHlsZTogc3R5bGVzLnZhbHVlLFxuICAgICAgfVxuICAgICAgcmV0dXJuIGgoJ2RpdicsIHByb3BzRGF0YSwgW2dlblN2ZygpLCBnZW5JbmZvKCldKVxuICAgIH1cbiAgfSxcbn0pXG4iXX0=