{"version":3,"sources":["../../../../src/components/VInput/VInput.ts"],"names":[],"mappings":"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","sourcesContent":["// Style\nimport './VInput.scss'\n\n// Vue API\nimport { defineComponent, h, computed, reactive } from 'vue'\n\n// Components\nimport { VLabel } from '../VLabel'\n\n// Types\nimport { SetupContext } from 'vue'\n\n// Effects\nimport { validateProps, useValidate } from '../../effects/use-validate'\n\nconst inputProps = {\n  label: String,\n  height: [String, Number],\n  type: {\n    type: String,\n    default: 'text',\n  },\n  disabled: {\n    type: Boolean,\n    default: false\n  },\n  required: {\n    type: Boolean,\n    default: false,\n  },\n  modelValue: [String, Number],\n  ...validateProps(),\n}\n\nexport const VInput = defineComponent({\n  name: 'v-input',\n  props: inputProps,\n\n  setup(props, ctx) {\n\n    const state = reactive({\n      focused: false,\n    })\n\n    const { validate, focused, validState } = useValidate(props)\n\n    const classes = computed((): Record<string, boolean> => {\n      return {\n        'v-input': true,\n        'v-validatable': true,\n        'v-input--required': props.required,\n        'v-input--disabled': props.disabled,\n        'v-input--dirty': validState.isDirty,\n        'v-input--valid': validState.isDirty && props.required && !validState.innerError,\n        'v-input--not-valid': validState.isDirty && props.required && validState.innerError!,\n        'v-input--focused': state.focused\n      }\n    })\n\n    const computedColor = computed((): string => {\n      if (validState.innerError) return 'red darken-1'\n      return 'blue darken-2'\n    })\n\n    const focusHandler = () => {\n      focused()\n      state.focused = true\n      ctx.emit('focus')\n    }\n\n    const blurHandler = () => {\n      ctx.emit('blur')\n      state.focused = false\n\n      requestAnimationFrame(() => {\n        props.required && validate(props.modelValue)\n      })\n    }\n\n    const inputHandler = (e) => {\n      ctx.emit('update:modelValue', e.target.value)\n    }\n\n    const genLabel = () => {\n      const labelProps = {\n        absolute: true,\n        left: 0,\n        right: 'auto',\n        color: computedColor.value,\n        value: props.modelValue,\n        focused: state.focused\n      }\n\n      return h(\n        VLabel.setup!(labelProps as any, ctx as SetupContext) as any,\n        props.label,\n      )\n    }\n\n    const genField = () => {\n\n      const fieldProps = {\n        type: props.type,\n        disabled: props.disabled,\n        required: props.required,\n        value: props.modelValue,\n        class: {\n          'v-input__field': true\n        },\n        onFocus: focusHandler,\n        onBlur: blurHandler,\n        onInput: inputHandler,\n      }\n\n      return h('input', fieldProps)\n    }\n\n    const genFieldSlot = () => {\n      return h('div', {\n        class: {\n          'v-input__text-slot': true\n        }\n      }, [genLabel(), genField()])\n    }\n\n    const genDataProps = () => {\n      return {\n        class: {\n          ...classes.value,\n        },\n      }\n    }\n\n    const genInput = () => {\n      return h('div', genDataProps(), genFieldSlot())\n    }\n\n    return () => genInput()\n  }\n})\n"],"sourceRoot":"","file":"VInput.js"}