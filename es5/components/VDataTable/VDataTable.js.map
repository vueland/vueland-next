{"version":3,"sources":["../../../../src/components/VDataTable/VDataTable.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VDataTable.scss'\n\n// Vue API\nimport { h, watch, computed, defineComponent, ref } from 'vue'\n\n// Effects\nimport { useColors } from '../../effects/use-colors'\n\n// Components\nimport { VDataTableHeader } from './VDataTableHeader'\nimport { VDataTableBody } from './VDataTableBody'\nimport { VDataTableModal } from './VDataTableModal'\nimport { VDataTableFooter } from './VDataTableFooter'\nimport { VCheckbox } from '../VCheckbox'\nimport { VButton } from '../VButton'\n\n// Helpers\nimport { toComparableStringFormat } from './helpers'\n\nexport const VDataTable = defineComponent({\n  name: 'v-data-table',\n  props: {\n    cols: {\n      type: Array,\n      default: () => [],\n    },\n    rows: {\n      type: Array,\n      default: () => [],\n    },\n    headerColor: String,\n    rowsOnTable: {\n      type: Array,\n      default: () => [10, 15, 20, 25],\n    },\n    dark: Boolean,\n    numbered: Boolean,\n    checkbox: Boolean,\n    stateOut: Boolean,\n    align: String,\n    color: {\n      type: String,\n      default: 'white',\n    },\n  } as any,\n\n  setup(props, { slots, emit }) {\n    const cols = ref<any[]>([])\n    const rows = ref<any[]>([])\n    const checkedRows = ref<any[]>([])\n    const rowsPerPage = ref<number>(20)\n    const page = ref<number>(1)\n    const isAllRowsChecked = ref<boolean>(false)\n\n    const settings = ref({\n      cols: false,\n    })\n\n    const filters = {}\n    const { setBackground } = useColors()\n\n    const classes = computed<Record<string, boolean>>(() => ({\n      'v-data-table': true,\n    }))\n\n    const pages = computed(() => {\n      return Math.ceil(rows.value?.length / rowsPerPage.value)\n    })\n\n    watch(\n      () => props.cols,\n      to => (cols.value = to),\n      { immediate: true },\n    )\n\n    watch(\n      () => props.rows,\n      to => rows.value = to,\n      { immediate: true },\n    )\n\n    function onCheckAll(value) {\n      isAllRowsChecked.value = value\n      rows.value.forEach(row => row.checked = value)\n    }\n\n    function onCheck(rows) {\n      checkedRows.value = rows\n      emit('checked', checkedRows.value)\n    }\n\n    function onPrevTable(num) {\n      page.value = page.value > 1 ? page.value + num : page.value\n    }\n\n    function onNextTable(num) {\n      if (rows.value.length - page.value * rowsPerPage.value > 0) {\n        page.value += num\n      }\n      return\n    }\n\n    function onSort(col) {\n      if (col.sorted) {\n        col.sorted = !col.sorted\n        rows.value!.reverse()\n      } else {\n        cols.value!.forEach(c => {\n          c.sorted = col.key === c.key\n        })\n\n        sortColumn(col)\n      }\n    }\n\n    function onFilter({ value, col }): any {\n      if (!value && filters[col.key]) delete filters[col.key]\n\n      if (value) filters[col.key] = value\n\n      if (!props.stateOut) {\n        if (!Object.keys(filters).length) {\n          return rows.value = props.rows\n        }\n        rows.value = filterRows(props.rows)\n      } else {\n        emit('filter', filters)\n      }\n\n      page.value = 1\n    }\n\n    function onSelectRowsCount(count) {\n      rowsPerPage.value = count\n    }\n\n    function colsSettings(val, col) {\n      col.show = val\n      emit('cols-settings', cols.value)\n    }\n\n    function sortColumn(col) {\n      rows.value!.sort((a, b) => {\n        if (col.formatter) {\n          if (col.formatter(a) > col.formatter(b)) return 1\n        } else {\n          if (a[col.key] > b[col.key]) return 1\n        }\n        return -1\n      })\n    }\n\n    function filterRows(rows) {\n      const filterKeys = Object.keys(filters)\n\n      return rows.reduce((acc, row) => {\n        const rowResults: any[] = []\n\n        filterKeys.forEach(key => {\n          const { formatter } = cols.value.find(col => col.key === key)\n          const value = formatter ? formatter(row) : row[key]\n\n          const rowKeyValue = toComparableStringFormat(value)\n          const filterValue = toComparableStringFormat(filters[key])\n\n          if (rowKeyValue.includes(filterValue)) {\n            rowResults.push(!!row[key])\n          }\n        })\n\n        if (\n          rowResults.length === filterKeys.length &&\n          rowResults.every(value => !!value)\n        ) {\n          acc.push(row)\n        }\n\n        return acc\n      }, [])\n    }\n\n    function genTableTools() {\n      return h(\n        'div', {\n          class: {\n            'v-data-table__toolbar': true,\n          },\n        }, {\n          default: () => slots.toolbar && slots.toolbar(),\n        },\n      )\n    }\n\n    function genTableHeader() {\n      return h(VDataTableHeader, {\n        cols: cols.value,\n        color: props.headerColor || props.color,\n        checkbox: props.checkbox,\n        dark: props.dark,\n        align: props.align,\n        numbered: props.numbered,\n        onFilter,\n        onSort,\n        onCheckAll,\n      })\n    }\n\n    function genTableBody() {\n      return h(\n        VDataTableBody,\n        {\n          cols: cols.value,\n          rows: rows.value,\n          page: page.value,\n          rowsPerPage: rowsPerPage.value,\n          checkbox: props.checkbox,\n          checkAllRows: isAllRowsChecked.value,\n          align: props.align,\n          dark: props.dark,\n          color: props.color,\n          numbered: props.numbered,\n          onCheck,\n        },\n\n        props.cols.reduce((acc, col) => {\n          const slotContent = (row) => {\n            const scoped: any = { row }\n\n            if (col.format) {\n              scoped.format = col.format\n            }\n\n            return slots[col.key] && slots[col.key]!(scoped)\n          }\n\n          if (slots[col.key]) acc[col.key] = slotContent\n\n          return acc\n        }, {}),\n      )\n    }\n\n    function genTableFooter() {\n      return h(VDataTableFooter, {\n        pages: pages.value,\n        page: page.value,\n        counts: props.rowsOnTable,\n        tableRowsCount: rows.value?.length,\n        allRowsCount: props.rows.length,\n        rowsPerPage: rowsPerPage.value,\n        dark: props.dark,\n        color: props.color,\n        toolbar: props.toolbar,\n        onPrev: onPrevTable,\n        onNext: onNextTable,\n        onSelect: onSelectRowsCount,\n        onLastPage: val => emit('last-page', val),\n        onResetPage: val => page.value += val,\n        onColsSettings: () => settings.value.cols = true,\n      })\n    }\n\n    function genTableInner() {\n      return h('div', {\n          class: {\n            'v-data-table__inner': true,\n          },\n        },\n        [genTableHeader(), genTableBody()],\n      )\n    }\n\n    function genColsSettingsCheckboxes() {\n      return cols.value.map(col => {\n        return h(VCheckbox, {\n          label: col.title,\n          modelValue: col.show,\n          dark: props.dark,\n          color: props.dark ? 'white' : '',\n          style: { margin: '10px 0' },\n          onChecked: val => colsSettings(val, col),\n        })\n      })\n    }\n\n    function genColsSettingsActions() {\n      return h(VButton, {\n        dark: props.dark,\n        color: props.dark ? 'white' : 'primary',\n        outlined: props.dark,\n        label: 'ok',\n        onClick: () => settings.value.cols = false,\n      })\n    }\n\n    function genColsSettingsModal() {\n      return h(VDataTableModal, {\n        dark: props.dark,\n        color: props.color,\n        show: settings.value.cols,\n      }, {\n        title: () => 'Cols Settings',\n        content: () => genColsSettingsCheckboxes(),\n        actions: () => genColsSettingsActions(),\n      })\n    }\n\n    return () => {\n      const propsData = {\n        class: classes.value,\n      }\n\n      return h('div', setBackground(props.color, propsData), [\n        slots.toolbar && genTableTools(),\n        genTableInner(),\n        genTableFooter(),\n        genColsSettingsModal(),\n      ])\n    }\n  },\n})\n"],"sourceRoot":"","file":"VDataTable.js"}