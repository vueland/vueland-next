{"version":3,"sources":["../../../../src/components/VDataTable/VDataTableFooter.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VDataTableFooter.scss'\n\n// Vue API\nimport { watch, computed, defineComponent, h } from 'vue'\n\n// Components\nimport { VIcon } from '../VIcon'\nimport { VButton } from '../VButton'\nimport { VSelect } from '../VSelect'\n\n// Services\nimport { FaIcons } from '../../services/icons'\n\n// Effects\nimport { colorProps, useColors } from '../../effects/use-colors'\n\nexport const VDataTableFooter = defineComponent({\n  name: 'v-data-table-footer',\n  props: {\n    dark: Boolean,\n    pages: Number,\n    page: Number,\n    rowsPerPage: Number,\n    tableRowsCount: Number,\n    allRowsCount: Number,\n    counts: Array,\n    ...colorProps(),\n  } as any,\n\n  emits: [\n    'last-page',\n    'reset-page',\n    'select',\n    'next',\n    'prev',\n  ],\n\n  setup(props, { emit }) {\n    const { setTextColor } = useColors()\n\n    const lastOnPage = computed<number>(() => {\n      const { page, tableRowsCount, rowsPerPage } = props\n      return page * rowsPerPage > tableRowsCount\n        ? tableRowsCount\n        : page * rowsPerPage\n    })\n\n    const firstOnPage = computed<number>(() => {\n      const { page, rowsPerPage } = props\n      return page === 1 ? 1 : (page - 1) * rowsPerPage + 1\n    })\n\n    const paginationDisplay = computed<string>(() => {\n      return props.tableRowsCount\n        ? `${ firstOnPage.value } - ${ lastOnPage.value } from ${ props.tableRowsCount }`\n        : '-'\n    })\n\n    const isLastPage = computed(() => {\n      return props.page >= props.pages\n    })\n\n    const overPages = computed<number | null>(() => {\n      const { page, tableRowsCount, rowsPerPage } = props\n\n      if ((page - 1) * rowsPerPage > tableRowsCount) {\n        return Math.ceil((page * rowsPerPage - tableRowsCount) / rowsPerPage)\n      }\n\n      return null\n    })\n\n    watch(\n      () => isLastPage.value,\n      (to) => {\n        if (to && props.tableRowsCount === props.allRowsCount) {\n          emit('last-page', props.allRowsCount)\n        }\n      },\n    )\n\n    function changeTableRowsPage(isNext) {\n      if (props.page === props.pages && isNext) return\n\n      const event = isNext ? 'next' : 'prev'\n      emit(event, isNext ? 1 : -1)\n    }\n\n    function genPaginationButton(isNext) {\n      return h(\n        VButton,\n        {\n          width: 42,\n          color: props.dark ? 'white' : 'primary',\n          text: props.dark,\n          elevation: 3,\n          onClick: () => changeTableRowsPage(isNext),\n        },\n        {\n          default: () =>\n            h(VIcon, {\n              icon: isNext ? FaIcons.$arrowRight : FaIcons.$arrowLeft,\n              color: props.dark ? 'white' : '',\n              size: 18,\n            }),\n        },\n      )\n    }\n\n    function genPageDisplay() {\n      return h(\n        VButton,\n        {\n          width: 42,\n          style: { margin: '0 10px' },\n          color: props.dark ? 'white' : 'blue lighten-1',\n          text: props.dark,\n          elevation: 3,\n        },\n        {\n          default: () => props.page,\n        },\n      )\n    }\n\n    function genSelect() {\n      return h(VSelect, {\n        items: props.counts,\n        modelValue: props.rowsPerPage,\n        dark: props.dark,\n        listColor: props.color,\n        onSelect: (e) => emit('select', e),\n      })\n    }\n\n    function genSelectCaption() {\n      const propsData = {\n        class: {\n          'v-data-table__pagination-label': true,\n        },\n      }\n      const color = props.dark ? 'white' : ''\n\n      return h(\n        'span',\n        color ? setTextColor(color, propsData) : propsData,\n        'Rows per page',\n      )\n    }\n\n    function genPageItemsSelect() {\n      return h('div', { class: 'v-data-table__pagination-select' }, [\n        genSelectCaption(),\n        genSelect(),\n      ])\n    }\n\n    function genPagesCountDisplay() {\n      const propsData = {\n        class: {\n          'v-data-table__pagination-pages': true,\n        },\n      }\n\n      const color = props.dark ? 'white' : ''\n\n      overPages.value && emit('reset-page', -overPages.value)\n\n      return h(\n        'div',\n        color ? setTextColor(color, propsData) : propsData,\n        paginationDisplay.value,\n      )\n    }\n\n    function genPaginationButtonsBlock() {\n      return h('div', { class: { 'v-data-table__pagination-route': true } }, [\n        genPaginationButton(false),\n        genPageDisplay(),\n        genPaginationButton(true),\n      ])\n    }\n\n    function genPaginationBlock() {\n      return h('div', { class: 'v-data-table__pagination' }, [\n        genPageItemsSelect(),\n        genPagesCountDisplay(),\n        genPaginationButtonsBlock(),\n      ])\n    }\n\n    return () =>\n      h(\n        'div',\n        {\n          class: 'v-data-table__footer',\n        },\n        genPaginationBlock(),\n      )\n  },\n})\n"],"sourceRoot":"","file":"VDataTableFooter.js"}