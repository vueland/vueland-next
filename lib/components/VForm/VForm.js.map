{"version":3,"sources":["../../../../src/components/VForm/VForm.ts"],"names":[],"mappings":"AAAA,OAAO,0CAAP;AAEA,SAAS,eAAT,EAA0B,CAA1B,EAA6B,UAA7B,QAA+C,KAA/C;AAEA,OAAO,MAAM,KAAK,GAAG,eAAe,CAAC;AACnC,EAAA,IAAI,EAAE,QAD6B;;AAGnC,EAAA,KAAK,CAAC,CAAD,EAAI;AAAE,IAAA;AAAF,GAAJ,EAAa;AAChB,UAAM,QAAQ,GAAG,MAAK;AACpB,YAAM,QAAQ,GAAc,EAA5B;AAEA,YAAM,MAAM,GAAG,QAAQ,CAAC,sBAAT,CAAgC,eAAhC,CAAf;AAEA,MAAA,KAAK,CAAC,SAAN,CAAgB,OAAhB,CAAwB,IAAxB,CAA6B,MAA7B,EAAqC,EAAE,IAAG;AAKxC,cAAM;AAAE,UAAA;AAAF,YAAoB,EAAE,CAAC,OAAH,CAAW,KAAX,CAAiB,OAA3C;AACA,QAAA,QAAQ,CAAC,IAAT,CAAc,aAAa,EAA3B;AACD,OAPD;AASA,aAAO,OAAO,CAAC,OAAR,CAAgB,CAAC,QAAQ,CAAC,IAAT,CAAc,CAAC,IAAI,CAAC,CAApB,CAAjB,CAAP;AACD,KAfD;;AAiBA,UAAM,OAAO,GAAG,MAAK;AACnB,aAAO,UAAU,CAAC,KAAD,EAAQ,SAAR,EAAmB;AAAE,QAAA;AAAF,OAAnB,CAAjB;AACD,KAFD;;AAIA,WAAO,MACL,CAAC,CACC,KADD,EAEC;AACE,MAAA,KAAK,EAAE;AACL,kBAAU;AADL;AADT,KAFD,EAOC,OAAO,EAPR,CADH;AAUD;;AAnCkC,CAAD,CAA7B","sourcesContent":["import './VForm.scss'\n\nimport { defineComponent, h, renderSlot } from 'vue'\n\nexport const VForm = defineComponent({\n  name: 'v-form',\n\n  setup(_, { slots }) {\n    const validate = () => {\n      const promises: boolean[] = []\n\n      const fields = document.getElementsByClassName('v-validatable')\n\n      Array.prototype.forEach.call(fields, it => {\n        /**\n         * here we extract validate method\n         * from each vNode of child components\n         */\n        const { validateValue } = it.__vnode.props.methods\n        promises.push(validateValue())\n      })\n\n      return Promise.resolve(!promises.some(f => !f))\n    }\n\n    const genSlot = () => {\n      return renderSlot(slots, 'default', { validate })\n    }\n\n    return () =>\n      h(\n        'div',\n        {\n          class: {\n            'v-form': true,\n          },\n        },\n        genSlot(),\n      )\n  },\n})\n"],"sourceRoot":"","file":"VForm.js"}